<!DOCTYPE html><html><head>
    <title>Evernote Presentation</title>

    <link href="css/common.css" type="text/css" rel="stylesheet">
    <link href="css/presentation.css" type="text/css" rel="stylesheet">
    <link href="css/websource.css" type="text/css" rel="alternate stylesheet">
    <link href="css/presentation-default.css" type="text/css" rel="stylesheet" title="default">
    <link href="css/presentation-night.css" type="text/css" rel="alternate stylesheet" title="night">
    <style>
    ::-webkit-scrollbar {
        width: 0px;
    }
    body.lang-zh-cn, body.lang-zh-cn div.encp-note-title > div.encp-title-container > h1.title {
      font-family: "微软雅黑", 'Microsoft YaHei', SimSun,      "&#x30E1;&#x30A4;&#x30EA;&#x30AA;", Meiryo, "MS PGothic",       "Gotham Light", "Helvetica Neue", Arial;
    }
    body.lang-ja-jp, body.lang-ja-jp div.encp-note-title > div.encp-title-container > h1.title {
      font-family: "&#x30E1;&#x30A4;&#x30EA;&#x30AA;", Meiryo, "MS PGothic",       "微软雅黑", 'Microsoft YaHei', SimSun,      "Gotham Light", "Helvetica Neue", Arial;
    }
    </style>


    <style shim-shadowdom="">
/*******************************
          Flex Layout
*******************************/

html /deep/ [layout][horizontal], html /deep/ [layout][vertical] {
  display: -ms-flexbox;
  display: -webkit-flex;
  display: flex;
}

html /deep/ [layout][horizontal][inline], html /deep/ [layout][vertical][inline] {
  display: -ms-inline-flexbox;
  display: -webkit-inline-flex;
  display: inline-flex;
}

html /deep/ [layout][horizontal] {
  -ms-flex-direction: row;
  -webkit-flex-direction: row;
  flex-direction: row;
}

html /deep/ [layout][horizontal][reverse] {
  -ms-flex-direction: row-reverse;
  -webkit-flex-direction: row-reverse;
  flex-direction: row-reverse;
}

html /deep/ [layout][vertical] {
  -ms-flex-direction: column;
  -webkit-flex-direction: column;
  flex-direction: column;
}

html /deep/ [layout][vertical][reverse] {
  -ms-flex-direction: column-reverse;
  -webkit-flex-direction: column-reverse;
  flex-direction: column-reverse;
}

html /deep/ [layout][wrap] {
  -ms-flex-wrap: wrap;
  -webkit-flex-wrap: wrap;
  flex-wrap: wrap;
}

html /deep/ [layout][wrap-reverse] {
  -ms-flex-wrap: wrap-reverse;
  -webkit-flex-wrap: wrap-reverse;
  flex-wrap: wrap-reverse;
}

html /deep/ [flex] {
  -ms-flex: 1 1 0.000000001px;
  -webkit-flex: 1;
  flex: 1;
  -webkit-flex-basis: 0.000000001px;
  flex-basis: 0.000000001px;
}

html /deep/ [vertical][layout] > [flex][auto-vertical], html /deep/ [vertical][layout]::shadow [flex][auto-vertical] {
  -ms-flex: 1 1 auto;
  -webkit-flex-basis: auto;
  flex-basis: auto;
}

html /deep/ [flex][auto] {
  -ms-flex: 1 1 auto;
  -webkit-flex-basis: auto;
  flex-basis: auto;
}

html /deep/ [flex][none] {
  -ms-flex: none;
  -webkit-flex: none;
  flex: none;
}

html /deep/ [flex][one] {
  -ms-flex: 1;
  -webkit-flex: 1;
  flex: 1;
}

html /deep/ [flex][two] {
  -ms-flex: 2;
  -webkit-flex: 2;
  flex: 2;
}

html /deep/ [flex][three] {
  -ms-flex: 3;
  -webkit-flex: 3;
  flex: 3;
}

html /deep/ [flex][four] {
  -ms-flex: 4;
  -webkit-flex: 4;
  flex: 4;
}

html /deep/ [flex][five] {
  -ms-flex: 5;
  -webkit-flex: 5;
  flex: 5;
}

html /deep/ [flex][six] {
  -ms-flex: 6;
  -webkit-flex: 6;
  flex: 6;
}

html /deep/ [flex][seven] {
  -ms-flex: 7;
  -webkit-flex: 7;
  flex: 7;
}

html /deep/ [flex][eight] {
  -ms-flex: 8;
  -webkit-flex: 8;
  flex: 8;
}

html /deep/ [flex][nine] {
  -ms-flex: 9;
  -webkit-flex: 9;
  flex: 9;
}

html /deep/ [flex][ten] {
  -ms-flex: 10;
  -webkit-flex: 10;
  flex: 10;
}

html /deep/ [flex][eleven] {
  -ms-flex: 11;
  -webkit-flex: 11;
  flex: 11;
}

html /deep/ [flex][twelve] {
  -ms-flex: 12;
  -webkit-flex: 12;
  flex: 12;
}

/* alignment in cross axis */

html /deep/ [layout][start] {
  -ms-flex-align: start;
  -webkit-align-items: flex-start;
  align-items: flex-start;
}

html /deep/ [layout][center], html /deep/ [layout][center-center] {
  -ms-flex-align: center;
  -webkit-align-items: center;
  align-items: center;
}

html /deep/ [layout][end] {
  -ms-flex-align: end;
  -webkit-align-items: flex-end;
  align-items: flex-end;
}

/* alignment in main axis */

html /deep/ [layout][start-justified] {
  -ms-flex-pack: start;
  -webkit-justify-content: flex-start;
  justify-content: flex-start;
}

html /deep/ [layout][center-justified], html /deep/ [layout][center-center] {
  -ms-flex-pack: center;
  -webkit-justify-content: center;
  justify-content: center;
}

html /deep/ [layout][end-justified] {
  -ms-flex-pack: end;
  -webkit-justify-content: flex-end;
  justify-content: flex-end;
}

html /deep/ [layout][around-justified] {
  -ms-flex-pack: distribute;
  -webkit-justify-content: space-around;
  justify-content: space-around;
}

html /deep/ [layout][justified] {
  -ms-flex-pack: justify;
  -webkit-justify-content: space-between;
  justify-content: space-between;
}

/* self alignment */

html /deep/ [self-start] {
  -ms-align-self: flex-start;
  -webkit-align-self: flex-start;
  align-self: flex-start;
}

html /deep/ [self-center] {
  -ms-align-self: center;
  -webkit-align-self: center;
  align-self: center;
}

html /deep/ [self-end] {
  -ms-align-self: flex-end;
  -webkit-align-self: flex-end;
  align-self: flex-end;
}

html /deep/ [self-stretch] {
  -ms-align-self: stretch;
  -webkit-align-self: stretch;
  align-self: stretch;
}

/*******************************
          Other Layout
*******************************/

html /deep/ [block] {
  display: block;
}

/* ie support for hidden */
html /deep/ [hidden] {
  display: none !important;
}

html /deep/ [relative] {
  position: relative;
}

html /deep/ [fit] {
  position: absolute;
  top: 0;
  right: 0;
  bottom: 0;
  left: 0;
}

body[fullbleed] {
  margin: 0;
  height: 100vh;
}

/*******************************
            Other
*******************************/

html /deep/ [segment], html /deep/ segment {
  display: block;
  position: relative;
  -webkit-box-sizing: border-box;
  -ms-box-sizing: border-box;
  box-sizing: border-box;
  margin: 1em 0.5em;
  padding: 1em;
  background-color: white;
  -webkit-box-shadow: 0px 0px 0px 1px rgba(0, 0, 0, 0.1);
  box-shadow: 0px 0px 0px 1px rgba(0, 0, 0, 0.1);
  border-radius: 5px 5px 5px 5px;
}

</style>





    


    


    










<!--
@group Polymer Core Elements

`core-animation` is a convenience element to use web animations with Polymer elements. It
allows you to create a web animation declaratively. You can extend this class to create
new types of animations and combine them with `core-animation-group`.

Example to create animation to fade out an element over 500ms:

    <core-animation id="fadeout" duration="500">
      <core-animation-keyframe>
        <core-animation-prop name="opacity" value="1"></core-animation-prop>
      </core-animation-keyframe>
      <core-animation-keyframe>
        <core-animation-prop name="opacity" value="0"></core-animation-prop>
      </core-animation-keyframe>
    </core-animation>

    <div id="el">Fade me out</div>

    <script>
      var animation = document.getElementById('fadeout');
      animation.target = document.getElementById('el');
      animation.play();
    </script>

Or do the same imperatively:

    var animation = new CoreAnimation();
    animation.duration = 500;
    animation.keyframes = [
      {opacity: 1},
      {opacity: 0}
    ];
    animation.target = document.getElementById('el');
    animation.play();

You can also provide a javascript function instead of keyframes to the animation. This
behaves essentially the same as `requestAnimationFrame`:

    var animation = new CoreAnimation();
    animation.customEffect = function(timeFraction, target, animation) {
      // do something custom
    };
    animation.play();

Elements that are targets to a `core-animation` are given the `core-animation-target` class.

@element core-animation
@status beta
@homepage github.io
-->



    


    


    



    




    









    


    




    <script>
        if (window.require) {
            window.gui = require('nw.gui');
            window.nodeRequire = window.require;
            window.require = undefined;
        }
    </script>

    <script type="x-shader/x-vertex" id="vertexshader">
        attribute float alpha;
        attribute vec3 color;

        varying float vAlpha;
        varying vec3 vColor;

        void main() {
        vAlpha = alpha;
        vColor = color;
        gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
        }
    </script>

    <script type="x-shader/x-fragment" id="fragmentshader">
        varying float vAlpha;
        varying vec3 vColor;

        void main() {
        gl_FragColor = vec4( vColor, vAlpha );
        }
    </script>
</head>
<body unresolved=""><div hidden=""><polymer-element name="encp-attachment" constructor="EncpAttachment" attributes="filename fileUrl imageUrl LocText" assetpath="elements/">
  <template>
    <style>
        :host {
            padding-top: 1rem;
            padding-bottom: 1rem;
            font-size: 24px;
        }

        #attachment {
            border: 1px solid #bfbfbf;
            color: #bfbfbf;
            padding: 17px 20px;
            display: table;
            cursor: pointer;
        }

        #attachment:hover {
            border: 1px solid #807d7d;
        }

        #attachment a {
            color: #bfbfbf !important;
            text-decoration: none;
        }

        #attachment img {
            margin-right: 10px;
            margin-bottom: -2px;
            width: 24px; /* 35px svg */
            height: 24px; /* 35px svg */
            vertical-align: text-bottom;
        }

        #attachment img.loading {
            -webkit-animation-name: rotateSpinner;
            -webkit-animation-duration: 0.6s;
            -webkit-animation-iteration-count: infinite;
            -webkit-animation-timing-function: linear;
        }

        @-webkit-keyframes rotateSpinner {
            from {
                -webkit-transform:rotate(0deg);
            }
            to {
                -webkit-transform:rotate(360deg);
            }
        }

        #tooltip {
            visibility: hidden;
        }

        #tooltip img {
            display: inline-block; 
            margin-right: 10px; 
            vertical-align: middle
        }
    </style>
    <div id="tooltip"><img src="{{tooltipIconUrl}}"><span>{{tooltip}}</span></div>
    <div id="attachment"><img id="attachmentIcon" src="{{imageUrl}}"><span>{{filename}}</span></div>
  </template>
  <script>
    Polymer('encp-attachment',{
        filename: '',
        fileUrl: '',
        imageUrl: '',
        fileIconUrl: '',
        loadingIconUrl: 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAACXBIWXMAAAsTAAALEwEAmpwYAAAKT2lDQ1BQaG90b3Nob3AgSUNDIHByb2ZpbGUAAHjanVNnVFPpFj333vRCS4iAlEtvUhUIIFJCi4AUkSYqIQkQSoghodkVUcERRUUEG8igiAOOjoCMFVEsDIoK2AfkIaKOg6OIisr74Xuja9a89+bN/rXXPues852zzwfACAyWSDNRNYAMqUIeEeCDx8TG4eQuQIEKJHAAEAizZCFz/SMBAPh+PDwrIsAHvgABeNMLCADATZvAMByH/w/qQplcAYCEAcB0kThLCIAUAEB6jkKmAEBGAYCdmCZTAKAEAGDLY2LjAFAtAGAnf+bTAICd+Jl7AQBblCEVAaCRACATZYhEAGg7AKzPVopFAFgwABRmS8Q5ANgtADBJV2ZIALC3AMDOEAuyAAgMADBRiIUpAAR7AGDIIyN4AISZABRG8lc88SuuEOcqAAB4mbI8uSQ5RYFbCC1xB1dXLh4ozkkXKxQ2YQJhmkAuwnmZGTKBNA/g88wAAKCRFRHgg/P9eM4Ors7ONo62Dl8t6r8G/yJiYuP+5c+rcEAAAOF0ftH+LC+zGoA7BoBt/qIl7gRoXgugdfeLZrIPQLUAoOnaV/Nw+H48PEWhkLnZ2eXk5NhKxEJbYcpXff5nwl/AV/1s+X48/Pf14L7iJIEyXYFHBPjgwsz0TKUcz5IJhGLc5o9H/LcL//wd0yLESWK5WCoU41EScY5EmozzMqUiiUKSKcUl0v9k4t8s+wM+3zUAsGo+AXuRLahdYwP2SycQWHTA4vcAAPK7b8HUKAgDgGiD4c93/+8//UegJQCAZkmScQAAXkQkLlTKsz/HCAAARKCBKrBBG/TBGCzABhzBBdzBC/xgNoRCJMTCQhBCCmSAHHJgKayCQiiGzbAdKmAv1EAdNMBRaIaTcA4uwlW4Dj1wD/phCJ7BKLyBCQRByAgTYSHaiAFiilgjjggXmYX4IcFIBBKLJCDJiBRRIkuRNUgxUopUIFVIHfI9cgI5h1xGupE7yAAygvyGvEcxlIGyUT3UDLVDuag3GoRGogvQZHQxmo8WoJvQcrQaPYw2oefQq2gP2o8+Q8cwwOgYBzPEbDAuxsNCsTgsCZNjy7EirAyrxhqwVqwDu4n1Y8+xdwQSgUXACTYEd0IgYR5BSFhMWE7YSKggHCQ0EdoJNwkDhFHCJyKTqEu0JroR+cQYYjIxh1hILCPWEo8TLxB7iEPENyQSiUMyJ7mQAkmxpFTSEtJG0m5SI+ksqZs0SBojk8naZGuyBzmULCAryIXkneTD5DPkG+Qh8lsKnWJAcaT4U+IoUspqShnlEOU05QZlmDJBVaOaUt2ooVQRNY9aQq2htlKvUYeoEzR1mjnNgxZJS6WtopXTGmgXaPdpr+h0uhHdlR5Ol9BX0svpR+iX6AP0dwwNhhWDx4hnKBmbGAcYZxl3GK+YTKYZ04sZx1QwNzHrmOeZD5lvVVgqtip8FZHKCpVKlSaVGyovVKmqpqreqgtV81XLVI+pXlN9rkZVM1PjqQnUlqtVqp1Q61MbU2epO6iHqmeob1Q/pH5Z/YkGWcNMw09DpFGgsV/jvMYgC2MZs3gsIWsNq4Z1gTXEJrHN2Xx2KruY/R27iz2qqaE5QzNKM1ezUvOUZj8H45hx+Jx0TgnnKKeX836K3hTvKeIpG6Y0TLkxZVxrqpaXllirSKtRq0frvTau7aedpr1Fu1n7gQ5Bx0onXCdHZ4/OBZ3nU9lT3acKpxZNPTr1ri6qa6UbobtEd79up+6Ynr5egJ5Mb6feeb3n+hx9L/1U/W36p/VHDFgGswwkBtsMzhg8xTVxbzwdL8fb8VFDXcNAQ6VhlWGX4YSRudE8o9VGjUYPjGnGXOMk423GbcajJgYmISZLTepN7ppSTbmmKaY7TDtMx83MzaLN1pk1mz0x1zLnm+eb15vft2BaeFostqi2uGVJsuRaplnutrxuhVo5WaVYVVpds0atna0l1rutu6cRp7lOk06rntZnw7Dxtsm2qbcZsOXYBtuutm22fWFnYhdnt8Wuw+6TvZN9un2N/T0HDYfZDqsdWh1+c7RyFDpWOt6azpzuP33F9JbpL2dYzxDP2DPjthPLKcRpnVOb00dnF2e5c4PziIuJS4LLLpc+Lpsbxt3IveRKdPVxXeF60vWdm7Obwu2o26/uNu5p7ofcn8w0nymeWTNz0MPIQ+BR5dE/C5+VMGvfrH5PQ0+BZ7XnIy9jL5FXrdewt6V3qvdh7xc+9j5yn+M+4zw33jLeWV/MN8C3yLfLT8Nvnl+F30N/I/9k/3r/0QCngCUBZwOJgUGBWwL7+Hp8Ib+OPzrbZfay2e1BjKC5QRVBj4KtguXBrSFoyOyQrSH355jOkc5pDoVQfujW0Adh5mGLw34MJ4WHhVeGP45wiFga0TGXNXfR3ENz30T6RJZE3ptnMU85ry1KNSo+qi5qPNo3ujS6P8YuZlnM1VidWElsSxw5LiquNm5svt/87fOH4p3iC+N7F5gvyF1weaHOwvSFpxapLhIsOpZATIhOOJTwQRAqqBaMJfITdyWOCnnCHcJnIi/RNtGI2ENcKh5O8kgqTXqS7JG8NXkkxTOlLOW5hCepkLxMDUzdmzqeFpp2IG0yPTq9MYOSkZBxQqohTZO2Z+pn5mZ2y6xlhbL+xW6Lty8elQfJa7OQrAVZLQq2QqboVFoo1yoHsmdlV2a/zYnKOZarnivN7cyzytuQN5zvn//tEsIS4ZK2pYZLVy0dWOa9rGo5sjxxedsK4xUFK4ZWBqw8uIq2Km3VT6vtV5eufr0mek1rgV7ByoLBtQFr6wtVCuWFfevc1+1dT1gvWd+1YfqGnRs+FYmKrhTbF5cVf9go3HjlG4dvyr+Z3JS0qavEuWTPZtJm6ebeLZ5bDpaql+aXDm4N2dq0Dd9WtO319kXbL5fNKNu7g7ZDuaO/PLi8ZafJzs07P1SkVPRU+lQ27tLdtWHX+G7R7ht7vPY07NXbW7z3/T7JvttVAVVN1WbVZftJ+7P3P66Jqun4lvttXa1ObXHtxwPSA/0HIw6217nU1R3SPVRSj9Yr60cOxx++/p3vdy0NNg1VjZzG4iNwRHnk6fcJ3/ceDTradox7rOEH0x92HWcdL2pCmvKaRptTmvtbYlu6T8w+0dbq3nr8R9sfD5w0PFl5SvNUyWna6YLTk2fyz4ydlZ19fi753GDborZ752PO32oPb++6EHTh0kX/i+c7vDvOXPK4dPKy2+UTV7hXmq86X23qdOo8/pPTT8e7nLuarrlca7nuer21e2b36RueN87d9L158Rb/1tWeOT3dvfN6b/fF9/XfFt1+cif9zsu72Xcn7q28T7xf9EDtQdlD3YfVP1v+3Njv3H9qwHeg89HcR/cGhYPP/pH1jw9DBY+Zj8uGDYbrnjg+OTniP3L96fynQ89kzyaeF/6i/suuFxYvfvjV69fO0ZjRoZfyl5O/bXyl/erA6xmv28bCxh6+yXgzMV70VvvtwXfcdx3vo98PT+R8IH8o/2j5sfVT0Kf7kxmTk/8EA5jz/GMzLdsAADoZaVRYdFhNTDpjb20uYWRvYmUueG1wAAAAAAA8P3hwYWNrZXQgYmVnaW49Iu+7vyIgaWQ9Ilc1TTBNcENlaGlIenJlU3pOVGN6a2M5ZCI/Pgo8eDp4bXBtZXRhIHhtbG5zOng9ImFkb2JlOm5zOm1ldGEvIiB4OnhtcHRrPSJBZG9iZSBYTVAgQ29yZSA1LjUtYzAyMSA3OS4xNTQ5MTEsIDIwMTMvMTAvMjktMTE6NDc6MTYgICAgICAgICI+CiAgIDxyZGY6UkRGIHhtbG5zOnJkZj0iaHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyI+CiAgICAgIDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PSIiCiAgICAgICAgICAgIHhtbG5zOnhtcD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLyIKICAgICAgICAgICAgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iCiAgICAgICAgICAgIHhtbG5zOnN0RXZ0PSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VFdmVudCMiCiAgICAgICAgICAgIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIKICAgICAgICAgICAgeG1sbnM6cGhvdG9zaG9wPSJodHRwOi8vbnMuYWRvYmUuY29tL3Bob3Rvc2hvcC8xLjAvIgogICAgICAgICAgICB4bWxuczp0aWZmPSJodHRwOi8vbnMuYWRvYmUuY29tL3RpZmYvMS4wLyIKICAgICAgICAgICAgeG1sbnM6ZXhpZj0iaHR0cDovL25zLmFkb2JlLmNvbS9leGlmLzEuMC8iPgogICAgICAgICA8eG1wOkNyZWF0b3JUb29sPkFkb2JlIFBob3Rvc2hvcCBDQyAoTWFjaW50b3NoKTwveG1wOkNyZWF0b3JUb29sPgogICAgICAgICA8eG1wOkNyZWF0ZURhdGU+MjAxNC0wNi0xN1QxNDowNDoyNC0wNTowMDwveG1wOkNyZWF0ZURhdGU+CiAgICAgICAgIDx4bXA6TWV0YWRhdGFEYXRlPjIwMTQtMDYtMTdUMTQ6MDQ6MjQtMDU6MDA8L3htcDpNZXRhZGF0YURhdGU+CiAgICAgICAgIDx4bXA6TW9kaWZ5RGF0ZT4yMDE0LTA2LTE3VDE0OjA0OjI0LTA1OjAwPC94bXA6TW9kaWZ5RGF0ZT4KICAgICAgICAgPHhtcE1NOkluc3RhbmNlSUQ+eG1wLmlpZDo2MDZkM2RmOC1kZDJmLTRiZWMtODEwYS01Y2I4OWQzZDVmODY8L3htcE1NOkluc3RhbmNlSUQ+CiAgICAgICAgIDx4bXBNTTpEb2N1bWVudElEPnhtcC5kaWQ6M2U1YWZjYzItMWU0ZS00OGJjLWE3N2YtYWMzOGRhOGUwNmQxPC94bXBNTTpEb2N1bWVudElEPgogICAgICAgICA8eG1wTU06T3JpZ2luYWxEb2N1bWVudElEPnhtcC5kaWQ6M2U1YWZjYzItMWU0ZS00OGJjLWE3N2YtYWMzOGRhOGUwNmQxPC94bXBNTTpPcmlnaW5hbERvY3VtZW50SUQ+CiAgICAgICAgIDx4bXBNTTpIaXN0b3J5PgogICAgICAgICAgICA8cmRmOlNlcT4KICAgICAgICAgICAgICAgPHJkZjpsaSByZGY6cGFyc2VUeXBlPSJSZXNvdXJjZSI+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDphY3Rpb24+Y3JlYXRlZDwvc3RFdnQ6YWN0aW9uPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6aW5zdGFuY2VJRD54bXAuaWlkOjNlNWFmY2MyLTFlNGUtNDhiYy1hNzdmLWFjMzhkYThlMDZkMTwvc3RFdnQ6aW5zdGFuY2VJRD4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OndoZW4+MjAxNC0wNi0xN1QxNDowNDoyNC0wNTowMDwvc3RFdnQ6d2hlbj4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OnNvZnR3YXJlQWdlbnQ+QWRvYmUgUGhvdG9zaG9wIENDIChNYWNpbnRvc2gpPC9zdEV2dDpzb2Z0d2FyZUFnZW50PgogICAgICAgICAgICAgICA8L3JkZjpsaT4KICAgICAgICAgICAgICAgPHJkZjpsaSByZGY6cGFyc2VUeXBlPSJSZXNvdXJjZSI+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDphY3Rpb24+c2F2ZWQ8L3N0RXZ0OmFjdGlvbj4KICAgICAgICAgICAgICAgICAgPHN0RXZ0Omluc3RhbmNlSUQ+eG1wLmlpZDo2MDZkM2RmOC1kZDJmLTRiZWMtODEwYS01Y2I4OWQzZDVmODY8L3N0RXZ0Omluc3RhbmNlSUQ+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDp3aGVuPjIwMTQtMDYtMTdUMTQ6MDQ6MjQtMDU6MDA8L3N0RXZ0OndoZW4+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDpzb2Z0d2FyZUFnZW50PkFkb2JlIFBob3Rvc2hvcCBDQyAoTWFjaW50b3NoKTwvc3RFdnQ6c29mdHdhcmVBZ2VudD4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OmNoYW5nZWQ+Lzwvc3RFdnQ6Y2hhbmdlZD4KICAgICAgICAgICAgICAgPC9yZGY6bGk+CiAgICAgICAgICAgIDwvcmRmOlNlcT4KICAgICAgICAgPC94bXBNTTpIaXN0b3J5PgogICAgICAgICA8ZGM6Zm9ybWF0PmltYWdlL3BuZzwvZGM6Zm9ybWF0PgogICAgICAgICA8cGhvdG9zaG9wOkNvbG9yTW9kZT4zPC9waG90b3Nob3A6Q29sb3JNb2RlPgogICAgICAgICA8cGhvdG9zaG9wOklDQ1Byb2ZpbGU+c1JHQiBJRUM2MTk2Ni0yLjE8L3Bob3Rvc2hvcDpJQ0NQcm9maWxlPgogICAgICAgICA8dGlmZjpPcmllbnRhdGlvbj4xPC90aWZmOk9yaWVudGF0aW9uPgogICAgICAgICA8dGlmZjpYUmVzb2x1dGlvbj43MjAwMDAvMTAwMDA8L3RpZmY6WFJlc29sdXRpb24+CiAgICAgICAgIDx0aWZmOllSZXNvbHV0aW9uPjcyMDAwMC8xMDAwMDwvdGlmZjpZUmVzb2x1dGlvbj4KICAgICAgICAgPHRpZmY6UmVzb2x1dGlvblVuaXQ+MjwvdGlmZjpSZXNvbHV0aW9uVW5pdD4KICAgICAgICAgPGV4aWY6Q29sb3JTcGFjZT4xPC9leGlmOkNvbG9yU3BhY2U+CiAgICAgICAgIDxleGlmOlBpeGVsWERpbWVuc2lvbj4zMjwvZXhpZjpQaXhlbFhEaW1lbnNpb24+CiAgICAgICAgIDxleGlmOlBpeGVsWURpbWVuc2lvbj4zMjwvZXhpZjpQaXhlbFlEaW1lbnNpb24+CiAgICAgIDwvcmRmOkRlc2NyaXB0aW9uPgogICA8L3JkZjpSREY+CjwveDp4bXBtZXRhPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgIAo8P3hwYWNrZXQgZW5kPSJ3Ij8+kk5ihQAAACBjSFJNAAB6JQAAgIMAAPn/AACA6QAAdTAAAOpgAAA6mAAAF2+SX8VGAAAC8ElEQVR42ryXv2sUURDHP7v3w1wSj5wJKQKJkMZC8VdARAS1EK0GRfA/sBEx2mhpL4KNjZDeQhAcEBsLLYSUQTQxaGEhihJFyQ/Nj921mReej93kPO9u4Ni9Yfd9v/N9M29mI5o0VR0BJoC9wDgwCJSBFFgCPgNzwLSIzDW7btQE8D7gjAFX7Fe1d2N7rALsBHrs+gGYAh6JSNoSAVWtAxeB/QZYCa6OQMmujkA/0Af0Am+ASRGZKcKJC8B3A5eBMWAdWDOpM3sk8e7zAuo1YkeBaVWdbFoBVR0HzgM1W6THIqoCX4AZYB74ZMSqwAhwADgHHDE1akbE2T3gqoj8RbwcgA8Dpy3CZQPeAD4CKiJvc4JYAX4As8ADVZ0A7gDHgueu2FrXcxVQ1SogQMP8fRb9LPBERDb+oWIi28K7ljO+XRKRqTwCh4A9psoOk/aViLykRVPVk8BjoB4odlhE5jeTUFUHgFFg1eT/Dbz/H3AAEXkOXDDp8RL0flgFYx74CrAIvKANJiLPgFuB+4SqngWIVbUM7LJy+2WZPSMia7TPbgOvA98Np0DDwF29/7Ssb5tZAt8M3KccgbpJv27bsLDd8dmiPQXeBUl6LbaMdwpsAAsdAMcOoIeB+7g7yxNzZJaEnbIwsQ+WjYA73yNTolMWtunRcuDI6Kx99bYkcr0gMRUyrz8kHcqD1bABxlZ6madAjS5abF0v9fp9X7cJLHnRZ0C/dbOuEVj0JhynQr1rBEQksYHCbUMEDKlqqZ1ARaq6MvxmY1TqbcWQjWBtA/dJuNEs9srju7cNKdCjqo02gUdFE7g/FS9YM3IEEqCmqg1VjVsEj3Mm78gfTKPghQowbC85Eqk1qWVTqtmoS8H54vDSQgLecDoYVEXiEVozQpsLBTJHBUd7BmThWB4VRFAGBuxv6jWrkFC2BZh/HwFJCL7dp1lkA2Q1B5gcAkUkMiv1lj9OS0ai5G1LMwTSrYCbJpCTWEUVsZkz/zLS/RkAfN4nHqrdmfAAAAAASUVORK5CYII=',
        tooltipIconUrl: '',
        tooltip: '',
        listeners: [],
        LocText: {
            t: function (text) { return text; }
        },
        ready: function () {
            this.LocTextChanged();
            this.$.attachment.addEventListener('mouseover', this.onMouseOver.bind(this));
            this.$.attachment.addEventListener('mouseout', this.onMouseOut.bind(this));
            this.$.attachment.addEventListener('click', this.onClick.bind(this));
        },
        LocTextChanged: function () {
            this.tooltip = this.LocText.t('click to open file');
        },
        onMouseOver: function () {
            // this.$.tooltip.style.visibility = 'visible';
            this.fire('hidecursor');
        },
        onMouseOut: function () {
            // this.$.tooltip.style.visibility = 'hidden';
            this.fire('showcursor');
        },
        onClick: function () {
            this.fire('openattachment', { fileUrl: this.fileUrl });
        },
        customAddEventListener: function (name, func) {
            this.listeners.push({
                name: name,
                func: func
            });
            this.addEventListener(name, func);
        },
        removeAllEventListeners: function () {
            var me = this;
            this.listeners.forEach(function (l) {
                me.removeEventListener(l.name, l.func);
            });
        },
        fileIconUrlChanged: function () {
            this.imageUrl = this.fileIconUrl;
        },
        showLoadingMask: function () {
            this.imageUrl = this.loadingIconUrl;
            this.$.attachmentIcon.className = 'loading';
        },
        hideLoadingMask: function () {
            this.$.attachmentIcon.className = '';
            this.imageUrl = this.fileIconUrl;
        }
    });
  </script>
</polymer-element>

<polymer-element name="encp-checkbox" constructor="EncpCheckbox" attributes="nightmode checked" assetpath="elements/">
  <template>
    <style>
      :host {
        margin-right: 0.36rem;
        text-align: center;
        margin-top: -0.15rem;
        height: 0.8rem;
        width: 0.8rem;
        vertical-align: middle;
        display: inline-block;
        background-repeat: no-repeat;
        background-position: center;
        background-size: contain;
        background-image: url("images/checkmarkUnchecked.svg");
      }

      /*
      .notesource li .checkbox {
        margin-top: -0.1rem;
      }
      */
    </style>
  </template>
  <script>
    Polymer('encp-checkbox',{
      nightmode: false,
      checked: false,
      ready: function () {
      },
      nightmodeChanged: function () {
        this.style['background-color'] = this.nightmode ? 'black' : 'white';
      },
      checkedChanged: function () {
        if (this.checked) {
          this.style['background-image'] = 'url(images/checkmarkChecked.svg)';
        }
      }
    });
  </script>
</polymer-element>

<polymer-element name="encp-clicksensor" constructor="EncpClickSensor" assetpath="elements/">
  <template>
    <style>
      :host {
        display: none;
        position: fixed;
        top: 0;
        right: 0px;
        width: 100%;
        height: 100%;
      }
    </style>
  </template>
  <script>
  	Polymer('encp-clicksensor',{
      available: false,
      availableChanged: function () {
        this.style.display = this.available ? 'block' : 'none';
      }
    });
  </script>
</polymer-element>

<polymer-element name="encp-hudbutton" attributes="source description shortcut bgsource cmd cmddata nightmode" on-mouseover="onMouseOver" on-mouseout="onMouseOut" on-click="onClick" assetpath="elements/">
  <template>
    <style>
      :host {
        cursor: default;
        width: 40px;
        height: 40px;
        background-color: #646464;
        border: 1px solid;
        border-color: #58595b;
        margin-left: 3px;
        margin-right: 3px;
        display: block;
        float: right;
        z-index: 999999;
      }
      :host(:hover) {
        background-color: #2e2e2e;
      }
    </style>
  </template>
  <script>
    Polymer('encp-hudbutton',{
      available: true,
      nightmode: false,
      source: '',
      bgsource: null,      
      description: '',
      shortcut: '',
      bgimg: null,
      cmd: null,
      cmddata: null,
      ready: function () {
      },
      availableChanged: function () {
        this.style.display = this.available ? 'block' : 'none';
      },
      nightmodeChanged: function () {
        this.style['border-color'] = this.nightmode ? '#333333' : '#58595b';
      },
      sourceChanged: function () {
        var val = 'url(' + this.source + ')';
        if (this.bgsource) val += ', url(' + this.bgsource + ')';
        this.style['background-image'] = val;
      },
      onClick: function () {
        // console.log('firing ' + this.cmd);
        if (this.cmd) this.fire(this.cmd, this.cmddata);
      },
      onMouseOver: function () {
        this.fire('showtip', {
          description: this.description,
          shortcut: this.shortcut
        });
        this.fire('hidecursor');
      },
      onMouseOut: function () {
        this.fire('hidetip');
        this.fire('showcursor');
      }
    });
  </script>
</polymer-element>

<polymer-element name="encp-hudtip" attributes="nightmode" assetpath="elements/">
  <template>
    <style>
      :host {
        z-index: 999999;
        height: 40px;
        color: black;
        font-family: "Gotham Light", "Helvetica Neue", Arial,      "&#x30E1;&#x30A4;&#x30EA;&#x30AA;", Meiryo, "MS PGothic",       "微软雅黑", 'Microsoft YaHei', SimSun;
        font-size: 13px;
        line-height: 40px;
        margin-top: 0px;
        -webkit-touch-callout: none;
        -webkit-user-select: none;
        -khtml-user-select: none;
        -moz-user-select: none;
        -ms-user-select: none;
        user-select: none;
        padding-left: 10px;
        padding-right: 10px;
        background-color: rgba(128, 128, 128, 0);
        display: none;
      }

      :host-context(.lang-zh-cn)  {
          font-family: "微软雅黑", 'Microsoft YaHei', SimSun,      "&#x30E1;&#x30A4;&#x30EA;&#x30AA;", Meiryo, "MS PGothic",       "Gotham Light", "Helvetica Neue", Arial;
      }

      :host-context(.lang-ja-jp)  {
          font-family: "&#x30E1;&#x30A4;&#x30EA;&#x30AA;", Meiryo, "MS PGothic",       "微软雅黑", 'Microsoft YaHei', SimSun,      "Gotham Light", "Helvetica Neue", Arial;
      }

      #shortcut {
          float: right;
          margin-left: 10px;
          margin-right: 10px;
          color: #a7a9ac;
      }
    </style>
    <span id="description">{{description}}</span>
    <span id="shortcut">{{shortcut}}</span>
  </template>
  <script>
  	Polymer('encp-hudtip',{
      nightmode: false,
      description: '',
      shortcut: '',
      ready: function () {
      },
      nightmodeChanged: function () {
        this.style.color = this.nightmode ? 'white' : 'black';
        this.style['background-color'] = this.nightmode ? 'rgba(0, 0, 0, .5)' : 'rgba(255, 255, 255, .75)';
      },
      onShowTip: function (evt) {
        this.description = evt.detail.description;
        this.shortcut = evt.detail.shortcut;
        this.nightmodeChanged();
        this.style.display = 'block';
      },
      onHideTip: function () {
        this.description = '';
        this.shortcut = '';
        this.style.display = 'none';
      }
  	});
  </script>
</polymer-element>

<polymer-element name="core-animation" constructor="CoreAnimation" attributes="target keyframes customEffect composite duration fill easing iterationStart iterationCount delay direction autoplay targetSelector" assetpath="../../lib/core-animation/">
  <script>
    (function() {

      function toNumber(value, allowInfinity) {
        return (allowInfinity && value === 'Infinity') ? Number.POSITIVE_INFINITY : Number(value);
      };

      Polymer('core-animation',{
       /**
        * Fired when the animation completes.
        *
        * @event core-animation-finish
        */

       /**
        *
        * Fired when the web animation object changes.
        *
        * @event core-animation-change
        */

        publish: {

          /**
           * One or more nodes to animate.
           *
           * @property target
           * @type HTMLElement|Node|Array<HTMLElement|Node>
           */
          target: {value: null, reflect: true},

          /**
           * Animation keyframes specified as an array of dictionaries of
           * &lt;css properties&gt;:&lt;array of values&gt; pairs. For example,
           *
           * @property keyframes
           * @type Object
           */
          keyframes: {value: null, reflect: true},

          /**
           * A custom animation function. Either provide this or `keyframes`. The signature
           * of the callback is `EffectsCallback(timeFraction, target, animation)`
           *
           * @property customEffect
           * @type Function(number, Object, Object)
           */
          customEffect: {value: null, reflect: true},

          /**
           * Controls the composition behavior. If set to "replace", the effect overrides
           * the underlying value for the target. If set the "add", the effect is added to
           * the underlying value for the target. If set to "accumulate", the effect is
           * accumulated to the underlying value for the target.
           *
           * In cases such as numbers or lengths, "add" and "accumulate" produce the same
           * value. In list values, "add" is appending to the list, while "accumulate" is
           * adding the individual components of the list.
           *
           * For example, adding `translateX(10px)` and `translateX(25px)` produces
           * `translateX(10px) translateX(25px)` and accumulating produces `translateX(35px)`.
           *
           * @property composite
           * @type "replace"|"add"|"accumulate"
           * @default "replace"
           */
          composite: {value: 'replace', reflect: true},

          /**
           * Animation duration in milliseconds, "Infinity", or "auto". "auto" is
           * equivalent to 0.
           *
           * @property duration
           * @type number|"Infinity"
           * @default "auto"
           */
          duration: {value: 'auto', reflect: true},

          /**
           * Controls the effect the animation has on the target when it's not playing.
           * The possible values are "none", "forwards", "backwards", "both" or "auto".
           *
           * "none" means the animation has no effect when it's not playing.
           *
           * "forwards" applies the value at the end of the animation after it's finished.
           *
           * "backwards" applies the value at the start of the animation to the target
           * before it starts playing and has no effect when the animation finishes.
           *
           * "both" means "forwards" and "backwards". "auto" is equivalent to "none".
           *
           * @property fill
           * @type "none"|"forwards"|"backwards"|"both"|"auto"
           * @default "auto"
           */
          fill: {value: 'auto', reflect: true},

          /**
           * A transition timing function. The values are equivalent to the CSS
           * counterparts.
           *
           * @property easing
           * @type string
           * @default "linear"
           */
          easing: {value: 'linear', reflect: true},

          /**
           * The number of milliseconds to delay before beginning the animation.
           *
           * @property delay
           * @type Number
           * @default 0
           */
          delay: {value: 0, reflect: true},

          /**
           * The number of milliseconds to wait after the animation finishes. This is
           * useful, for example, in an animation group to wait for some time before
           * beginning the next item in the animation group.
           *
           * @property endDelay
           * @type number
           * @default 0
           */
          endDelay: {value: 0, reflect: true},

          /**
           * The number of iterations this animation should run for.
           *
           * @property iterations
           * @type Number|'Infinity'
           * @default 1
           */
          iterations: {value: 1, reflect: true},

          /**
           * Number of iterations into the animation in which to begin the effect.
           * For example, setting this property to 0.5 and `iterations` to 2 will
           * cause the animation to begin halfway through the first iteration but still
           * run twice.
           *
           * @property iterationStart
           * @type Number
           * @default 0
           */
          iterationStart: {value: 0, reflect: true},

          /**
           * (not working in web animations polyfill---do not use)
           *
           * Controls the iteration composition behavior. If set to "replace", the effect for
           * every iteration is independent of each other. If set to "accumulate", the effect
           * for iterations of the animation will build upon the value in the previous iteration.
           *
           * Example:
           *
           *    // Moves the target 50px on the x-axis over 5 iterations.
           *    <core-animation iterations="5" iterationComposite="accumulate">
           *      <core-animation-keyframe>
           *        <core-animation-prop name="transform" value="translateX(10px)"></core-animation-prop>
           *      </core-animation-keyframe>
           *    </core-animation>
           *
           * @property iterationComposite
           * @type "replace"|"accumulate"
           * @default false
           */
          iterationComposite: {value: 'replace', reflect: true},

          /**
           * The playback direction of the animation. "normal" plays the animation in the
           * normal direction. "reverse" plays it in the reverse direction. "alternate"
           * alternates the playback direction every iteration such that even iterations are
           * played normally and odd iterations are reversed. "alternate-reverse" plays
           * even iterations in the reverse direction and odd iterations in the normal
           * direction.
           *
           * @property direction
           * @type "normal"|"reverse"|"alternate"|"alternate-reverse"
           * @default "normal"
           */
          direction: {value: 'normal', reflect: true},

          /**
           * A multiplier to the playback rate to the animation.
           *
           * @property playbackRate
           * @type number
           * @default 1
           */
          playbackRate: {value: 1, reflect: true},

          /**
           * If set to true, play the animation when it is created or a property is updated.
           *
           * @property autoplay
           * @type boolean
           * @default false
           */
          autoplay: {value: false, reflect: true}

        },

        animation: false,

        observe: {
          target: 'apply',
          keyframes: 'apply',
          customEffect: 'apply',
          composite: 'apply',
          duration: 'apply',
          fill: 'apply',
          easing: 'apply',
          iterations: 'apply',
          iterationStart: 'apply',
          iterationComposite: 'apply',
          delay: 'apply',
          endDelay: 'apply',
          direction: 'apply',
          playbackRate: 'apply',
          autoplay: 'apply'
        },

        ready: function() {
          this.apply();
        },

        /**
         * Plays the animation. If the animation is currently paused, seeks the animation
         * to the beginning before starting playback.
         *
         * @method play
         * @return AnimationPlayer The animation player.
         */
        play: function() {
          this.apply();
          if (this.animation && !this.autoplay) {
            this.player = document.timeline.play(this.animation);
            this.player.onfinish = this.animationFinishHandler.bind(this);
            return this.player;
          }
        },

        /**
         * Stops the animation and clears all effects on the target.
         *
         * @method cancel
         */
        cancel: function() {
          if (this.player) {
            this.player.cancel();
          }
        },

        /**
         * Seeks the animation to the end.
         *
         * @method finish
         */
        finish: function() {
          if (this.player) {
            this.player.finish();
          }
        },

        /**
         * Pauses the animation.
         *
         * @method pause
         */
        pause: function() {
          if (this.player) {
            this.player.pause();
          }
        },

        /**
         * @method hasTarget
         * @return boolean True if `target` is defined.
         */
        hasTarget: function() {
          return this.target !== null;
        },

        /**
         * Creates a web animations object based on this object's properties, and
         * plays it if autoplay is true.
         *
         * @method apply
         * @return Object A web animation.
         */
        apply: function() {
          this.animation = this.makeAnimation();
          if (this.autoplay && this.animation) {
            this.play();
          }
          return this.animation;
        },

        makeSingleAnimation: function(target) {
          // XXX(yvonne): for selecting all the animated elements.
          target.classList.add('core-animation-target');
          return new Animation(target, this.animationEffect, this.timingProps);
        },

        makeAnimation: function() {
          if (!this.target) {
            return null;
          }
          var animation;
          if (Array.isArray(this.target)) {
            var array = [];
            this.target.forEach(function(t) {
              array.push(this.makeSingleAnimation(t));
            }.bind(this));
            animation = new AnimationGroup(array);
          } else {
            animation = this.makeSingleAnimation(this.target);
          }
          return animation;
        },

        animationChanged: function() {
          // Sending 'this' with the event so you can always get the animation object
          // that fired the event, due to event retargetting in shadow DOM.
          this.fire('core-animation-change', this);
        },

        targetChanged: function(old) {
          if (old) {
            old.classList.remove('core-animation-target');
          }
        },

        get timingProps() {
          var props = {};
          var timing = {
            delay: {isNumber: true},
            endDelay: {isNumber: true},
            fill: {},
            iterationStart: {isNumber: true},
            iterations: {isNumber: true, allowInfinity: true},
            duration: {isNumber: true},
            playbackRate: {isNumber: true},
            direction: {},
            easing: {}
          };
          for (t in timing) {
            if (this[t] !== null) {
              var name = timing[t].property || t;
              props[name] = timing[t].isNumber && this[t] !== 'auto' ?
                  toNumber(this[t], timing[t].allowInfinity) : this[t];
            }
          }
          return props;
        },

        get animationEffect() {
          var props = {};
          var frames = [];
          var effect;
          if (this.keyframes) {
            frames = this.keyframes;
          } else if (!this.customEffect) {
            var children = this.querySelectorAll('core-animation-keyframe');
            if (children.length === 0 && this.shadowRoot) {
              children = this.shadowRoot.querySelectorAll('core-animation-keyframe');
            }
            Array.prototype.forEach.call(children, function(c) {
              frames.push(c.properties);
            });
          }
          if (this.customEffect) {
            effect = this.customEffect;
          } else {
            // effect = new KeyframeEffect(frames, this.composite);
            effect = frames;
          }
          return effect;
        },

        animationFinishHandler: function() {
          this.fire('core-animation-finish');
        }

      });
    })();
  </script>
</polymer-element>

<!--
`core-animation-keyframe` represents a keyframe in a `core-animation`. Use them as children of
`core-animation` elements to create web animations declaratively. If the `offset` property is
unset, the keyframes will be distributed evenly within the animation duration. Use
`core-animation-prop` elements as children of this element to specify the CSS properties for
the animation.

@element core-animation-keyframe
@status beta
@homepage github.io
-->
<polymer-element name="core-animation-keyframe" attributes="offset" assetpath="../../lib/core-animation/">
  <script>
    Polymer('core-animation-keyframe',{
      publish: {
        /**
         * An offset from 0 to 1.
         *
         * @property offset
         * @type Number
         */
        offset: {value: null, reflect: true}
      },
      get properties() {
        var props = {};
        var children = this.querySelectorAll('core-animation-prop');
        Array.prototype.forEach.call(children, function(c) {
          props[c.name] = c.value;
        });
        if (this.offset !== null) {
          props.offset = this.offset;
        }
        return props;
      }
    });
  </script>
</polymer-element>

<!--
`core-animation-prop` represents a CSS property and value pair to use with
`core-animation-keyframe`.

@element core-animation-prop
@status beta
@homepage github.io
-->
<polymer-element name="core-animation-prop" attributes="name value" assetpath="../../lib/core-animation/">
  <script>
    Polymer('core-animation-prop',{
      publish: {
        /**
         * A CSS property name.
         *
         * @property name
         * @type string
         */
        name: {value: '', reflect: true},

        /**
         * The value for the CSS property.
         *
         * @property value
         * @type string|number
         */
        value: {value: '', reflect: true}
      }
    });
  </script>
</polymer-element>
<polymer-element name="encp-contextbar" constructor="EncpContextbar" attributes="fadeDuration LocText available nightmode" assetpath="elements/">
  <template>
    <style>
      :host {
        position: fixed;
        top: 0;
        left: 0;
        width: 450px;
        height: 42px;
        padding-top: 20px;
        padding-left: 20px;
        padding-right: 15px;
        padding-bottom: 138px;
        z-index: 999999;
        display: none;
        opacity: 0;
      }

      encp-hudbutton {
        float: left;
      }

      #hudtip {
        display: block;
        float: left;
      }
    </style>
    <encp-hudbutton id="back" cmd="back" source="images/back_btn_icon.png" on-showtip="{{onShowTip}}" on-hidetip="{{onHideTip}}"></encp-hudbutton>
    <encp-hudbutton id="zoomtosize" cmd="zoomtosize" source="images/doc_viewer_actual_size_icon.png" on-showtip="{{onShowTip}}" on-hidetip="{{onHideTip}}"></encp-hudbutton>
    <encp-hudbutton id="zoomtofill" cmd="zoomtofill" source="images/doc_viewer_fill_screen_icon.png" on-showtip="{{onShowTip}}" on-hidetip="{{onHideTip}}"></encp-hudbutton>
    <encp-hudbutton id="zoomin" cmd="zoomin" source="images/doc_viewer_zoomin_icon.png" on-showtip="{{onShowTip}}" on-hidetip="{{onHideTip}}"></encp-hudbutton>
    <encp-hudbutton id="zoomout" cmd="zoomout" source="images/doc_viewer_zoomout_icon.png" on-showtip="{{onShowTip}}" on-hidetip="{{onHideTip}}"></encp-hudbutton>
    <encp-hudtip id="hudtip"></encp-hudtip>
    <encp-cursorbar id="cursorbar" on-showtip="{{onShowTip}}" on-hidetip="{{onHideTip}}"></encp-cursorbar>
  </template>
  <script>
  	Polymer('encp-contextbar',{
      fadeDuration: 500,
      fadeinAnimation: null,
      fadeoutAnimation: null,
      fadeTimer: null,
      available: false,
      visible: false,
      nightmode: false,
      description: '',
      shortcut: '',
      backEnabled: false,
      imagebarEnabled: false,
      noteTitle: '',
      LocText: {
        t: function (text) { 
          return text;
        }
      },
      ready: function () {
        this.backEnabledChanged();
        this.imagebarEnabledChanged();
        this.fadeOutAnimation = new CoreAnimation();
        this.fadeOutAnimation.duration = this.fadeDuration;
        this.fadeOutAnimation.keyframes = [
          {opacity: 1},
          {opacity: 0}
        ];
        this.fadeOutAnimation.fill = 'forwards';
        this.fadeOutAnimation.target = this;

        this.fadeInAnimation = new CoreAnimation();
        this.fadeInAnimation.duration = this.fadeDuration;
        this.fadeInAnimation.keyframes = [
          {opacity: 0},
          {opacity: 1}
        ];
        this.fadeInAnimation.fill = 'forwards';
        this.fadeInAnimation.target = this;

        this.LocTextChanged();
      },
      LocTextChanged: function () {
        this.setBackTooltip();
        this.$.back.shortcut = this.LocText.t('Ctrl+[');

        this.$.zoomin.description = this.LocText.t('Zoom In');
        this.$.zoomout.description = this.LocText.t('Zoom Out');
        this.$.zoomtofill.description = this.LocText.t('Zoom to Fill Screen');
        this.$.zoomtosize.description = this.LocText.t('Zoom to Actual Size');
      },
      setBackTooltip: function () {
        if (this.imagebarEnabled) {
          this.$.back.description = this.LocText.t('Back to Presentation');
        } else {
          this.$.back.description = this.noteTitle ? this.LocText.t('Back to ') + this.noteTitle : this.LocText.t('Previous Note');
        }      
      },
      imagebarEnabledChanged: function () {
        this.setBackTooltip();

        this.$.back.available = this.imagebarEnabled || this.backEnabled;
        this.$.back.cmd = this.imagebarEnabled ? 'closeimage' : 'back';
        this.$.zoomin.available = this.imagebarEnabled;
        this.$.zoomout.available = this.imagebarEnabled;
        this.$.zoomtofill.available = this.imagebarEnabled;
        this.$.zoomtosize.available = this.imagebarEnabled;
      },
      backEnabledChanged: function () {
        this.setBackTooltip();
        this.$.back.available = (this.backEnabled || this.imagebarEnabled);
      },
      availableChanged: function () {
        this.style.display = this.available ? 'block' : 'none';
      },
      nightmodeChanged: function () {
        this.$.back.nightmode = this.nightmode;
        this.$.zoomin.nightmode = this.nightmode;
        this.$.zoomout.nightmode = this.nightmode;
        this.$.zoomtofill.nightmode = this.nightmode;
        this.$.zoomtosize.nightmode = this.nightmode;
        this.$.hudtip.nightmode = this.nightmode;
      },
      onEngage: function () {
        this.fire('engage');
      },
      onDisengage: function () {
        this.fire('disengage');
      },
      onShowTip: function (evt) {
        return this.$.hudtip.onShowTip(evt);
      },
      onHideTip: function () {
        return this.$.hudtip.onHideTip();
      },
      fadeIn: function () {
        if (!this.available || this.visible) return;
        this.fadeInAnimation.play();
        this.visible = true;
      },
      fadeOut: function () {
        this.fadeOutAnimation.play();
        this.visible = false;
      },
      show: function (duration) {
        var me = this;
        if (!this.available) return;
        this.fadeIn();
        if (this.fadeTimer) window.clearTimeout(this.fadeTimer);
        if (duration) {
            this.fadeTimer = window.setTimeout(function () {
                me.fadeOut();
            }, duration);
        }
      },
      hide: function () {
        this.fadeOut();
      }
  	});
  </script>
</polymer-element>

<polymer-element name="encp-fle" constructor="EncpFle" attributes="expired tier images LocText" assetpath="elements/">
  <template>
    <style>
      :host {
          position: fixed;
          z-index: 99999999;
          margin: 0px;
          padding: 0px;
          width: 100%;
          height: 100%;
          top: 0px;
          left: 0px;
          cursor: default;
          background-color: rgba(0,0,0,0.6);
          display:none;
          -webkit-user-select: none;

          -webkit-animation-name: pop-in;
          -webkit-animation-duration: 0.5s;
          -webkit-animation-timing-function: ease-out;
      }

      @-webkit-keyframes pop-in {
          0% { opacity: 0; -webkit-transform: scale(0.95); }
          50% { opacity: 1; -webkit-transform: scale(1.1); }
          100% { opacity: 1; -webkit-transform: scale(1); }
      }

      #presentationWelcomeBg {
          display: none;
          position: absolute;
          z-index: 9999;
          padding: 6px;
          border: 6px solid rgba(255,255,255,0.4);
          margin: 0px;
          padding: 0px;
          left: 50%;
          top: 50%;
          margin-left: -300px;
          margin-top: -235px;
          box-shadow: 0 2px 7px 0px rgba(0,0,0,0.35);
          -webkit-user-select: none;
          transition: all 0.2s ease-in-out;
      }

      #presentationWelcomeBg div {
          margin-top: 0px;
          line-height: initial;
      }

      .presentationWelcome {
          display: flex;
          flex-direction: column;
          position: relative;
          z-index: 9999;
          width: 600px;
          height: 470px;
          background-color: #f7f3f3;
          margin: 0px;
          padding: 0px;
          transition: all 0.2s ease-in-out;
          -webkit-user-select: none;
      }

      #presentationWelcomeBg.last-carousel {
          margin-left: -300px;
          margin-top: -175px;
      }
      #presentationWelcomeBg.last-carousel .presentationWelcome {
          width: 600px;
          height: 370px;
          background-color: #2dbe60;
      }

      .presentationWelcome .cell-1 {
          margin: 0px auto 0px auto;
          width: 100%;
          height: 320px;
      }

      /* slider */
      #presentationWelcomeSlider {
          position: absolute;
          width: 100%;
          height: 420px;
          margin: 0;
      }

      #presentationWelcomeSlider .viewport {
          width: 500px;
          height: 420px;
          margin: 0 auto;
          overflow: hidden;
          position: relative;
      }

      #presentationWelcomeSlider .overview {
          list-style: none;
          position: absolute;
          width: 500px;
          margin-top: 0px;
          margin-bottom: 0px;
          margin-left: 0px;
          padding: 0px;
          left: 0;
          top: 0;
      }

      #presentationWelcomeSlider ul > li:before {
          display: none;
      }


      #presentationWelcomeSlider .overview li {
          float: left;
          margin: 0 12px 0 0;
          padding: 0;
          left: 0px;
          width: 500px;
          height: 190px;
          text-align: center;
      }

      #presentationWelcomeSlider .overview li .title {
          margin: 40px auto 0px auto;
          font-size: 15pt;
          color: #353535;
          font-family: 'Gotham Book', Arial,      "&#x30E1;&#x30A4;&#x30EA;&#x30AA;", Meiryo, "MS PGothic",       "微软雅黑", 'Microsoft YaHei', SimSun;
          text-align: center;
      }

      :host-context(.lang-zh-cn) #presentationWelcomeSlider .overview li .title {
          font-family: "微软雅黑", 'Microsoft YaHei', SimSun,      "&#x30E1;&#x30A4;&#x30EA;&#x30AA;", Meiryo, "MS PGothic",       'Gotham Book', Arial;
      }

      :host-context(.lang-ja-jp) #presentationWelcomeSlider .overview li .title {
          font-family: "&#x30E1;&#x30A4;&#x30EA;&#x30AA;", Meiryo, "MS PGothic",       "微软雅黑", 'Microsoft YaHei', SimSun,      'Gotham Book', Arial;
      }

      #presentationWelcomeSlider .overview li img {
          box-shadow: 0 1px 4px 1px rgba(0,0,0,0.3);
          margin-top: 35px;
          margin-left: 6px;
      }

      #presentationWelcomeSlider .overview li .text {
          position: relative;
          margin-top: 28px;
          margin-left: -158px;
          left: 50%;
          width: 315px;
          text-align: center;
          font-size: 9pt;
          line-height: 12pt;
          color: #353535;
          font-family: 'Gotham Book', Arial,      "&#x30E1;&#x30A4;&#x30EA;&#x30AA;", Meiryo, "MS PGothic",       "微软雅黑", 'Microsoft YaHei', SimSun;
      }

      :host-context(.lang-zh-cn) #presentationWelcomeSlider .overview li .text {
          font-family: "微软雅黑", 'Microsoft YaHei', SimSun,      "&#x30E1;&#x30A4;&#x30EA;&#x30AA;", Meiryo, "MS PGothic",       'Gotham Book', Arial;
      }

      :host-context(.lang-ja-jp) #presentationWelcomeSlider .overview li .text {
          font-family: "&#x30E1;&#x30A4;&#x30EA;&#x30AA;", Meiryo, "MS PGothic",       "微软雅黑", 'Microsoft YaHei', SimSun,      'Gotham Book', Arial;
      }

      #presentationWelcomeSlider .buttons {
          display: block;
          position: absolute;
          margin: 195px 0px 0 0px;
          width: 50px;
          height: 50px;
          top: 0px;
      }
      #presentationWelcomeSlider .prev {
          background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAATRJREFUeNrs2dENgjAQBmAwDuAmmjCAbCAbIBs4ihvACI7QBYg4ghvgBHhN7oGQAi+9liP/JaaRPugHd+1V02EYkj3EIdlJAAIIIIAAAggggGwwjqE/sG3bgoYLvzVZlhl1EELcaagnl42q1CLEw4HQlVqEaGgoHVOdmmJfQFRUHy8VkBVEo2L5nUH8JBBiNbKAyAnRbb7YCXCiweb9NSTCK4QRdk84h0Z4q5HYCJ/F/nQgbBQhED4hdtf+zFzX0/3SXe9tCtHrO5m68Qqmp41nTMF1MY4yBMbrhsj1kMfAeN/ZY2FEWpQYGLFeawXjfTVLpf8foS9tj7Vv6Q5Y/DzCT6ZyTNV8ftfzKwrfeRfmogqygtFzZh9jKJ360ZMwaopdVa8FCCCAAAIIIIAAAogz/gIMAM+cfWcT21l6AAAAAElFTkSuQmCC");
          background-repeat: no-repeat;
      }
      #presentationWelcomeSlider .prev:hover {
          background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAATRJREFUeNrs2dENgjAQBmAwDuAm+sC7bCAbIBs4ihvACI7QAUjEEdwAJ8Brcg+EFHjptRz5LzGN9EE/uGuvmg7DkOwhDslOAhBAAAEEEEAAAWSDcQz9gVmWFTRc+K1p29aogxDiTkM9uWxUpRYhHg6ErtQiREND6Zjq1BT7AqKi+nipgKwgGhXL7wziJ4EQq5EFRE6IbvPFToATDTbvryERXiGMsHvCOTTCW43ERvgs9qcDYaMIgfAJsbv2Z+a6nu6X7npvU4he38nUjVcwPW08Ywqui3GUITBeN0SuhzwGxvvOHgsj0qLEwIj1WisY76tZKv3/CH1pe6x9S3fA4ucRfjKVY6rm87ueX1H4zrswF1WQFYyeM/sYQ+nUj56EUVPsqnotQAABBBBAAAEEEECc8RdgAPFYfWcNfxc0AAAAAElFTkSuQmCC");
      }

      #presentationWelcomeSlider .next {
          margin: 195px 0px 0 0px;
          right: 0px;
          background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAUBJREFUeNrs2dENgjAQBmBqfNcNHEEMCzCCG6gbyASu4AbIBOoGOAAJjuAGOgFek3sgTcGYXAslf5OGWBLTL9crV1BN00RTaLNoIg0QQAABBBBAAAFkhG0u9UdVVaV0SflnnSTJLdSIaMSJ+5Vg+6ksrdwnRhJSD4lRkgcrnnRuubWhnKmDWVo02QtdMsutkpBxMBFpRUaDdsbwR28IriLjJNlpsnqJFcbwwmVknO1avjFOn+w+McrH66COnHlRjwn7DqbW4sjcjeEVR2YZWtF4toytO8bHCeF8sBWRT+rHICCMKDnJTUQaRI70IB6SCNHzyB+IgpN//M8RLh69IZxEpKcCdoYQj8hQCNEnOyG2+og7BEI6IrbaKfOBcLprUTvwQSsKDVK2z+++XwcpfAwFBBBAAAEEEEAAAeRX+wowAMogfqwyg4qEAAAAAElFTkSuQmCC");
          background-repeat: no-repeat;
      }

      #presentationWelcomeSlider .next:hover {
          background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAUFJREFUeNrs2dENgjAQBmBqfNcNHEFMGIAR3EDdQCZwBTdAJlA3wHcecAQ30AnwmtwDaQrG5Foo+Zs0xJKYfrleuYJqmiaaQptFE2mAAAIIIIAAAgggI2xzqT9KkiSlS8o/66qqbqFGRCNO3K8E209laeU+MZKQekiMkjxY8aRzy60N5UwdzNKiyV7okllulYSMg4lIKzIatDOGP3pDcBUZJ8lOk9VLrDCGFy4j42zX8o1x+mT3iVE+Xgd15MyLekzYdzC1FkfmbgyvODLL0IrGs2Vs3TE+Tgjng62IfFI/BgFhRMlJbiLSIHKkB/GQRIieR/5AFJz843+OcPHoDeEkIj0VsDOEeESGQog+2Qmx1UfcIRDSEbHVTpkPhNNdi9qBD1pRaJCyfX73/TpI4WMoIIAAAggggAACCCC/2leAAQATkHzhCQPm+gAAAABJRU5ErkJggg==");
      }

      #presentationWelcomeSlider .bullets {
          position: absolute;
          overflow:hidden;
          list-style: none;
          clear: both;
          left: calc(50% - 40px);
          bottom: 13px;
          margin: 0px;
          padding: 0px;
          line-height: 0px;
          width: 80px;
      }

      #presentationWelcomeBg.last-carousel #presentationWelcomeSlider .bullets {
          bottom: 73px;
      }

      #presentationWelcomeSlider .bullets li {
          float: left;
          left: 0px;
          margin: 0px 6px;
          padding: 0px;
          line-height: 0px;
      }

      #presentationWelcomeSlider .bullet {
          width: 8px;
          height: 8px;
          display: block;
          background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAYAAADED76LAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAFhJREFUeNpi/P//P8OWjRs1GBgYPIBYgAECPgDxDh9//xvMJoaGIMkIIOZgQAAQW+fWzZsvmKA6cQEPJiRjsQEBJgYCgAnqIFzgA0jBDjwKdjAS8iZAgAEAtVsa0PfluXUAAAAASUVORK5CYII=");
          background-repeat: no-repeat;
      }

      #presentationWelcomeSlider .bullet:hover {
          background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAYAAADED76LAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAGJJREFUeNpi/P//P0NDQ4MHAwNDIxDLMEDAEyCuB4rvYAYyQJJzgZiPAQFAbP8DBw5cY4LqxAUamZCMxQZkmBgIACaog3CBJyAF9XgU1DMDXXoH5FogxxjJJyBTC0HeBAgwALM+G3W3e5RiAAAAAElFTkSuQmCC");
      }

      #presentationWelcomeSlider .bullet.active {
          background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAYAAADED76LAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAG5JREFUeNpi/P//P4P6foYABgaGCUAszwABD4G44KYjwwZGlR1/QZLrGbCDQJZ/v/9NYMANJrD8//VfHo8CeZAJDPgAy79f/x4iOQ4dPGQCmlAAMgUHLmB6ksS9AeiOQCB+CMQMUAxiB4LkAAIMAFTnSybG3TfqAAAAAElFTkSuQmCC");
      }

      #presentationWelcomeSlider .disable {
          visibility: hidden;
      }

      .presentationWelcome .cell-2 {
          margin: 35px auto 0px auto;
          width: 350px;
          color: #696969;
          font-size: 10pt;
          line-height: 13pt;
          text-align: center;
          font-family: 'Gotham Book', Arial,      "&#x30E1;&#x30A4;&#x30EA;&#x30AA;", Meiryo, "MS PGothic",       "微软雅黑", 'Microsoft YaHei', SimSun;
      }

      :host-context(.lang-zh-cn) .presentationWelcome .cell-2 {
          font-family: "微软雅黑", 'Microsoft YaHei', SimSun,      "&#x30E1;&#x30A4;&#x30EA;&#x30AA;", Meiryo, "MS PGothic",       'Gotham Book', Arial;
      }

      :host-context(.lang-ja-jp) .presentationWelcome .cell-2 {
          font-family: "&#x30E1;&#x30A4;&#x30EA;&#x30AA;", Meiryo, "MS PGothic",       "微软雅黑", 'Microsoft YaHei', SimSun,      'Gotham Book', Arial;
      }

      .presentationWelcome .cell-3 {
          position: absolute;
          bottom: 0px;
          padding: 0px;
          box-sizing: border-box;
          margin-top: 0px;
          font-size: 9pt;
          width: 100%;
          height: 50px;
          background-color: #EFEDED;
          color: #696969;
          font-family: 'Gotham Book', Arial,      "&#x30E1;&#x30A4;&#x30EA;&#x30AA;", Meiryo, "MS PGothic",       "微软雅黑", 'Microsoft YaHei', SimSun;
      }

      :host-context(.lang-zh-cn) .presentationWelcome .cell-3 {
          font-family: "微软雅黑", 'Microsoft YaHei', SimSun,      "&#x30E1;&#x30A4;&#x30EA;&#x30AA;", Meiryo, "MS PGothic",       'Gotham Book', Arial;
      }

      :host-context(.lang-ja-jp) .presentationWelcome .cell-3 {
          font-family: "&#x30E1;&#x30A4;&#x30EA;&#x30AA;", Meiryo, "MS PGothic",       "微软雅黑", 'Microsoft YaHei', SimSun,      'Gotham Book', Arial;
      }

      .presentationWelcome .cell-3 .image {
          position: absolute;
          top: 2px;
          left: 0px;
          width: 50px;
          height: 50px;
          background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAATdJREFUeNrsmL0NwkAMhRPEAGwAGxAmADpKWjoyAWECGCFMQKgooaQjmQBGODZgg/AsuYiQkBBKIA7P0tORP+W+2He28fM895pgPkEIQhCCEIQgBCGIPryflP4V8tnJ/+S59q9eXPaHaXkNMYIQxCIIFq+Dpk3wSBc6ACaFAuuhNdbxApgE6pgEQZ5JoRF+hpCMEm5rLvaqMvsbC168IB4YQjsogofu5kBgZyiDBgC4WvXITT1wNB1aAOgxsxPk37ffKrpEdogMrRqFVqV/BwFyjmFbOBUiFBNTIICQZCgliUx8AW0gAQsA4yxtv1KWOEw60k1BRqfnbeQR7Td66oGiyXHfRD+iZftKSvfnalePl3Jd76u1R6Q3zzDp+EXeibWsD0ws9kZtvwQhCEEIQhCCEOTL9hBgAOGep2DW4Z5fAAAAAElFTkSuQmCC");
          background-repeat: no-repeat;
      }

      .presentationWelcome .cell-3 .text {
          position: absolute;
          top: 18px;
          left: 50px;
          color: #00a647;
          font-size: 9pt;
          font-family: 'Gotham Book', Arial,      "&#x30E1;&#x30A4;&#x30EA;&#x30AA;", Meiryo, "MS PGothic",       "微软雅黑", 'Microsoft YaHei', SimSun;
      }

      :host-context(.lang-zh-cn) .presentationWelcome .cell-3 .text {
          font-family: "微软雅黑", 'Microsoft YaHei', SimSun,      "&#x30E1;&#x30A4;&#x30EA;&#x30AA;", Meiryo, "MS PGothic",       'Gotham Book', Arial;
      }

      :host-context(.lang-ja-jp) .presentationWelcome .cell-3 .text {
          font-family: "&#x30E1;&#x30A4;&#x30EA;&#x30AA;", Meiryo, "MS PGothic",       "微软雅黑", 'Microsoft YaHei', SimSun,      'Gotham Book', Arial;
      }

      .presentationWelcome .cell-3 .presentationWelcomeGetStarted {
          position: absolute;
          right: 9px;
          top: 9px;
          color: white;
          font-size: 9pt;
          font-family: 'Gotham Book', Arial,      "&#x30E1;&#x30A4;&#x30EA;&#x30AA;", Meiryo, "MS PGothic",       "微软雅黑", 'Microsoft YaHei', SimSun;
          background-color: #00a647;
          padding: 8px 19px;
          border: 1px solid #008c39;
          cursor: pointer;
      }

      :host-context(.lang-zh-cn).presentationWelcome .cell-3 .presentationWelcomeGetStarted {
          font-family: "微软雅黑", 'Microsoft YaHei', SimSun,      "&#x30E1;&#x30A4;&#x30EA;&#x30AA;", Meiryo, "MS PGothic",       'Gotham Book', Arial;
      }

      :host-context(.lang-ja-jp) .presentationWelcome .cell-3 .presentationWelcomeGetStarted {
          font-family: "&#x30E1;&#x30A4;&#x30EA;&#x30AA;", Meiryo, "MS PGothic",       "微软雅黑", 'Microsoft YaHei', SimSun,      'Gotham Book', Arial;
      }

      .presentationWelcome.premium .cell-3 .presentationWelcomeGetStarted {
          padding: 8px 40px;
      }

      .presentationWelcome .cell-3 .presentationWelcomeGetStarted:hover {
          background-color: #008e3d;
      }

      div#presentationWelcomeSliderLastDiv {
          position: relative;
          width: 480px;
          margin: 35px auto 0px auto;
      }

      div#presentationWelcomeSliderLastDiv.freeUser {
          margin-top: 86px;
      }

      #presentationWelcomeSliderLastDiv .lastDivHeader {
          font-size: 16pt;
          color: white;
          justify-content: center;
          align-items: center;
      }

      #presentationWelcomeSliderLastDiv .lastDivHeader .enLogo {
          text-align: center;
          margin-bottom: 15px;
      }

      #presentationWelcomeSliderLastDiv .lastDivHeader .gradient {
          width: 1px;
          height: 90px;
          background: linear-gradient(to bottom, rgba(255,255,255,0) 0%,rgba(255,255,255,0.5) 20%,rgba(255,255,255,1) 50%,rgba(255,255,255,0.5) 80%,rgba(255,255,255,0) 100%);
      }

      #presentationWelcomeSliderLastDiv .lastDivHeader .presentMode {
          text-align: center;
          font-family: 'Gotham Book', Arial,      "&#x30E1;&#x30A4;&#x30EA;&#x30AA;", Meiryo, "MS PGothic",       "微软雅黑", 'Microsoft YaHei', SimSun;
          text-shadow: 0px 1px rgba(0,0,0,0.25);
          font-size: 17pt;
      }

      :host-context(.lang-zh-cn) #presentationWelcomeSliderLastDiv .lastDivHeader .presentMode {
          font-family: "微软雅黑", 'Microsoft YaHei', SimSun,      "&#x30E1;&#x30A4;&#x30EA;&#x30AA;", Meiryo, "MS PGothic",       'Gotham Book', Arial;
      }

      :host-context(.lang-ja-jp) #presentationWelcomeSliderLastDiv .lastDivHeader .presentMode {
          font-family: "&#x30E1;&#x30A4;&#x30EA;&#x30AA;", Meiryo, "MS PGothic",       "微软雅黑", 'Microsoft YaHei', SimSun,      'Gotham Book', Arial;
      }

      #presentationWelcomeSliderLastDiv .lastDivText {
          margin-top: 23px;
          color: white;
          text-align: center;
          font-size: 9.5pt;
          line-height: 17px;
          font-family: 'Gotham Book', Arial,      "&#x30E1;&#x30A4;&#x30EA;&#x30AA;", Meiryo, "MS PGothic",       "微软雅黑", 'Microsoft YaHei', SimSun;
          text-shadow: 1px 1px rgba(0,0,0,0.5);
      }

      :host-context(.lang-zh-cn) #presentationWelcomeSliderLastDiv .lastDivText {
          font-family: "微软雅黑", 'Microsoft YaHei', SimSun,      "&#x30E1;&#x30A4;&#x30EA;&#x30AA;", Meiryo, "MS PGothic",       'Gotham Book', Arial;
      }

      :host-context(.lang-ja-jp) #presentationWelcomeSliderLastDiv .lastDivText {
          font-family: "&#x30E1;&#x30A4;&#x30EA;&#x30AA;", Meiryo, "MS PGothic",       "微软雅黑", 'Microsoft YaHei', SimSun,      'Gotham Book', Arial;
      }

      #presentationWelcomeSliderLastDiv .lastDivGetStartedButton {
          position: relative;
          display: table;
          padding: 12px 60px;
          box-sizing: border-box;
          text-align: center;
          margin: 35px auto 0px auto;
          color: white;
          font-size: 10pt;
          font-family: 'Gotham Book', Arial,      "&#x30E1;&#x30A4;&#x30EA;&#x30AA;", Meiryo, "MS PGothic",       "微软雅黑", 'Microsoft YaHei', SimSun;
          background-color: rgba(0,0,0,0.25);
          border: 1px solid rgba(251,255,204,0.4);
          text-shadow: 1px 1px rgba(0,0,0,0.5);
          cursor: pointer;
      }

      :host-context(.lang-zh-cn) #presentationWelcomeSliderLastDiv .lastDivGetStartedButton {
          font-family: "微软雅黑", 'Microsoft YaHei', SimSun,      "&#x30E1;&#x30A4;&#x30EA;&#x30AA;", Meiryo, "MS PGothic",       'Gotham Book', Arial;
      }

      :host-context(.lang-ja-jp) #presentationWelcomeSliderLastDiv .lastDivGetStartedButton {
          font-family: "&#x30E1;&#x30A4;&#x30EA;&#x30AA;", Meiryo, "MS PGothic",       "微软雅黑", 'Microsoft YaHei', SimSun,      'Gotham Book', Arial;
      }

      #presentationWelcomeSliderLastDiv .lastDivGetStartedButton:hover {
          background-color: rgba(0,0,0,0.35);
      }

      div#presentationWelcomeSliderLastDiv.freeUser .lastDivGetStartedButton {
          margin-top: 30px;
      }

      /* Trial End */


      #presentationTrialEndBg {
          display: none;
          position: absolute;
          z-index: 9999;
          padding: 7px;
          border: 7px solid rgba(255,255,255,0.4);
          margin: 0px;
          padding: 0px;
          left: 50%;
          top: 50%;
          margin-left: -300px;
          margin-top: -210px;
          box-shadow: 0 2px 7px 0px rgba(0,0,0,0.35);
          -webkit-user-select: none;
          transition: all 0.2s ease-in-out;
      }

      #presentationTrialEndBg div {
          margin-top: 0px;
          line-height: initial;
      }

      #presentationTrialEnd {
          display: flex;
          flex-direction: column;
          position: relative;
          z-index: 9999;
          width: 600px;
          height: 370px;
          background-position: top center;
          background-color: #2dbe60;
          padding: 0px;
          transition: all 0.2s ease-in-out;
          -webkit-user-select: none;
      }

      #presentationTrialEnd .cell-1 {
          position: relative;
          width: 480px;
          margin: 35px auto 0px auto;
      }

      #presentationTrialEnd .lastDivCancelButton {
          position: absolute;
          left: 570px;
          top: 15px;
          width: 16px;
          height: 16px;
          background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAMFJREFUeNqsk0EKAyEMRQ102cO47qpXae+hZ+sRCl6kpdKNYpqAM4xjks008BmJP4/Rj4CI7kjBUYBjQBfXi+Q3vb189+DSWzdLKZm7rbW3AvF9D7t3BMQYbwZkGGbvBKA6K5BpmL0TQIFk0kcbngBbSK312y8LeS0NiwBWSumyB3BP8jrrtnlwAWnpmFGFEO4sK2JnRcVnNtIZAWZUMmT6AzUqCbL018cEAFf6VNKTell8eQB8JE86kefxl9f4E2AAuUldLl0XVdoAAAAASUVORK5CYII=");
          background-repeat: no-repeat;
          cursor: pointer;
      }

      #presentationTrialEnd .cell-1 .lastDivHeader {
          font-size: 16pt;
          color: white;
          margin-bottom: 35px;
          justify-content: center;
          align-items: center;
      }

      #presentationTrialEnd .cell-1 .lastDivHeader .enLogo {
          text-align: center;
          margin-bottom: 15px;
      }

      #presentationTrialEnd .cell-1 .lastDivHeader .gradient {
          width: 1px;
          height: 90px;
          background: linear-gradient(to bottom, rgba(255,255,255,0) 0%,rgba(255,255,255,0.5) 20%,rgba(255,255,255,1) 50%,rgba(255,255,255,0.5) 80%,rgba(255,255,255,0) 100%);
      }

      #presentationTrialEnd .cell-1 .lastDivHeader .presentMode {
          text-align: center;
      }

      #presentationTrialEnd .cell-1 .lastDivWhiteBox {
          margin: 35px auto 0px auto;
          width: 440px;
          height: 45px;
          box-sizing: border-box;
          color: #376d83;
          background-color: white;
          font-size: 9.5pt;
          font-family: 'Gotham Book', Arial,      "&#x30E1;&#x30A4;&#x30EA;&#x30AA;", Meiryo, "MS PGothic",       "微软雅黑", 'Microsoft YaHei', SimSun;
          padding: 16px;
          text-align: center;
          box-shadow: 0 1px 0px 0px rgba(0,0,0,0.35);
      }

      :host-context(.lang-zh-cn) #presentationTrialEnd .cell-1 .lastDivWhiteBox {
          font-family: "微软雅黑", 'Microsoft YaHei', SimSun,      "&#x30E1;&#x30A4;&#x30EA;&#x30AA;", Meiryo, "MS PGothic",       'Gotham Book', Arial;
      }

      :host-context(.lang-ja-jp) #presentationTrialEnd .cell-1 .lastDivWhiteBox {
          font-family: "&#x30E1;&#x30A4;&#x30EA;&#x30AA;", Meiryo, "MS PGothic",       "微软雅黑", 'Microsoft YaHei', SimSun,      'Gotham Book', Arial;
      }

      #presentationTrialEnd .cell-1 .lastDivText {
          position: relative;
          margin-left: auto;
          margin-right: auto;
          width: 430px;
          color: white;
          text-align: center;
          font-size: 9.5pt;
          line-height: 17px;
          font-family: 'Gotham Book', Arial,      "&#x30E1;&#x30A4;&#x30EA;&#x30AA;", Meiryo, "MS PGothic",       "微软雅黑", 'Microsoft YaHei', SimSun;
          text-shadow: 1px 1px rgba(0,0,0,0.5);
      }

      :host-context(.lang-zh-cn) #presentationTrialEnd .cell-1 .lastDivText {
          font-family: "微软雅黑", 'Microsoft YaHei', SimSun,      "&#x30E1;&#x30A4;&#x30EA;&#x30AA;", Meiryo, "MS PGothic",       'Gotham Book', Arial;
      }

      :host-context(.lang-ja-jp) #presentationTrialEnd .cell-1 .lastDivText {
          font-family: "&#x30E1;&#x30A4;&#x30EA;&#x30AA;", Meiryo, "MS PGothic",       "微软雅黑", 'Microsoft YaHei', SimSun,      'Gotham Book', Arial;
      }

      #presentationTrialEnd .cell-1 .lastDivGoPremiumButton {
          position: relative;
          display: table;
          padding: 12px 60px;
          box-sizing: border-box;
          text-align: center;
          margin: 35px auto 0px auto;
          color: white;
          font-size: 10pt;
          font-family: 'Gotham Book', Arial,      "&#x30E1;&#x30A4;&#x30EA;&#x30AA;", Meiryo, "MS PGothic",       "微软雅黑", 'Microsoft YaHei', SimSun;
          background-color: rgba(0,0,0,0.25);
          border: 1px solid rgba(251,255,204,0.4);
          text-shadow: 1px 1px rgba(0,0,0,0.5);
          cursor: pointer;
      }

      :host-context(.lang-zh-cn) #presentationTrialEnd .cell-1 .lastDivGoPremiumButton {
          font-family: "微软雅黑", 'Microsoft YaHei', SimSun,      "&#x30E1;&#x30A4;&#x30EA;&#x30AA;", Meiryo, "MS PGothic",       'Gotham Book', Arial;
      }

      :host-context(.lang-ja-jp) #presentationTrialEnd .cell-1 .lastDivGoPremiumButton {
          font-family: "&#x30E1;&#x30A4;&#x30EA;&#x30AA;", Meiryo, "MS PGothic",       "微软雅黑", 'Microsoft YaHei', SimSun,      'Gotham Book', Arial;
      }

      #presentationTrialEnd .cell-1 .lastDivGoPremiumButton:hover {
          background-color: rgba(0,0,0,0.35);
      }

      /* /Trial End */
    </style>
    <div id="presentationWelcomeBg">
          <div class="presentationWelcome">
              <div class="cell-1">
                  <div id="presentationWelcomeSlider">
                      <a class="buttons prev hidable" href="elements/#"></a>
                      <div class="viewport hidable">
                          <ul class="overview">
                              <li class="one"><div class="title">{{welcomeText}}</div>
                                  <img id="scrollingImage" alt="" src="">
                                  <div class="text">{{slidesText}}</div></li>
                              <li class="two"><div class="title">{{illuminateText}}</div>
                                  <img id="laserPointerImage" alt="" src="">
                                  <div class="text">{{pointerText}}</div></li>
                              <li class="three"><div class="title">{{viewImagesText}}</div>
                                  <img id="layoutImage" alt="" src="">
                                  <div class="text">{{zoomText}}</div></li>
                              <li class="five"></li>
                          </ul>
                      </div>
                      <a class="buttons next hidable" href="elements/#"></a>
                      <div id="presentationWelcomeSliderLastDiv" style="display: none">
                          <div class="lastDivHeader">
                              <div class="enLogo"><img class="projectorScreen" alt="" src=""></div>
                              <div class="presentMode"><span>{{presentationModeText}}</span></div>
                          </div>
                          <div class="lastDivText">{{wrapupText}}</div>
                          <div id="lastDivGetStartedButton" class="lastDivGetStartedButton">{{startButtonText}}</div>
                      </div>
                      <ul class="bullets">
                          <li><a href="elements/#" class="bullet active" data-slide="0"></a></li>
                          <li><a href="elements/#" class="bullet" data-slide="1"></a></li>
                          <li><a href="elements/#" class="bullet" data-slide="2"></a></li>
                          <li><a href="elements/#" class="bullet" data-slide="3"></a></li>
                      </ul>
                  </div>
              </div>
              <div class="cell-2 hidable"></div>
              <div class="cell-3 hidable">
                  <div class="image"></div>
                  <div class="text">{{taglineText}}</div>
                  <div id="presentationWelcomeGetStarted" class="presentationWelcomeGetStarted">{{startButtonText}}</div>
              </div>
          </div>
      </div>
      <div id="presentationTrialEndBg">
          <div id="presentationTrialEnd">
              <div id="lastDivCancelButton" class="lastDivCancelButton"></div>
              <div class="cell-1">
                  <div class="lastDivHeader">
                      <div class="enLogo"><img class="projectorScreen" alt="" src=""></div>
                      <div class="presentMode"><span>{{presentationModeText}}</span></div>
                  </div>
                  <div class="lastDivText">{{trialEndedLine1Text}}</div>
                  <div class="lastDivText">{{trialEndedLine2Text}}</div>
                  <div id="lastDivGoPremiumButton" class="lastDivGoPremiumButton">{{goPremiumText}}</div>
              </div>
          </div>
      </div>


  </template>
  <script>
    Polymer('encp-fle',{
      userID: null,
      tier: '', // basic, plus, premium
      viewcontext: '', // ctxt_presentationmode_trial_start, ctxt_presentationmode_trial_expired
      expired: false,
      remaining: 30,
      images: {},
      illuminateText: '',
      pointerText: '',
      presentationModeText: '',
      startButtonText: '',
      slidesText:'',
      thirtyDayPreviewText: '',
      taglineText: '',
      startButtonText: '',
      viewImagesText: '',
      trialEndedLine1Text: '',
      trialEndedLine2Text: '',
      goPremiumText: '',
      welcomeText: '',
      zoomText: '',
      Analytics: null,
      LocText: {
        t: function (text) { 
          return text;
        }
      },
      ready: function () {
        var me = this;
        var storedObj;
        $(this.$.presentationWelcomeGetStarted).on('mouseup', this.onGetStartedClicked.bind(this));
        $(this.$.lastDivGetStartedButton).on('mouseup', this.onGetStartedClicked.bind(this));
        $(this.$.lastDivCancelButton).on('mouseup', function(e) {
            me.Analytics.reportEvent('upgrade_' + me.tier, 'dismissed_upsell', me.viewcontext);
            me.fire('exit');
        });
        $(this.$.lastDivGoPremiumButton).on('mouseup', function(e) {
            me.Analytics.reportEvent('upgrade_' + me.tier, 'accepted_upsell', me.viewcontext, null, {cd8:1});
            me.fire('gopremium', {offercode: me.viewcontext});
            me.fire('exit');
        });
      },
      onGetStartedClicked: function () {
        if (this.tier == 'premium') {
          this.Analytics.reportEvent('upgrade_' + this.tier, 'unlocked_feature', this.viewcontext);
          this.setFTUELocalStorage('presentationWelcomePremium', 1);
        } else {
          this.Analytics.reportEvent('upgrade_' + this.tier, 'started_feature_trial', this.viewcontext, null, {cd8:1});
          this.setFTUELocalStorage('presentationWelcomeFree', 1);
          this.fire('starttrial');
        }
        this.fire('ftuecomplete');
      },
      hide: function () {
        this.style.display = 'none';
      },
      show: function () {
        var me = this;
        this.style.display = 'block';

        if (this.expired && this.tier != 'premium') {
          this.viewcontext = 'ctxt_presentationmode_trial_expired';
          this.$.presentationWelcomeBg.style.display = 'none';
          this.$.presentationTrialEndBg.style.display = 'block';
          this.Analytics.reportScreen('/presentation_mode/expired');
          me.adjustFontSize($('.presentMode > span', this.$.presentationTrialEndBg), $('.presentMode', this.$.presentationTrialEndBg));
        } else {
          if (this.tier == 'premium') this.viewcontext = 'ctxt_presentationmode_trial_start';
          else if (this.remaining <= 7) this.viewcontext = 'ctxt_presentationmode_trial_expiring7';
          else if (this.remaining <= 14) this.viewcontext = 'ctxt_presentationmode_trial_expiring14';
          else this.viewcontext = 'ctxt_presentationmode_trial_start';

          this.Analytics.reportScreen('/presentation_mode/tour_1');

          $(this.$.presentationWelcomeSlider).tinycarousel({
              bullets  : true,
              animation: false
          });

          this.$.scrollingImage.src = me.images.spacebarAnimation;

          $(this.$.presentationWelcomeBg).bind("move", function(e, slide, slideNum) {
              var $slide = $(slide);

              if ($slide.hasClass("five")) {
                  me.Analytics.reportEvent('upgrade_' + me.tier, 'saw_upsell', 'ctxt_presentationmode_trial_start', null, {cd8:1});
                  $(this).addClass("last-carousel");
                  $('.hidable', this).hide();
                  $(me.$.presentationWelcomeSliderLastDiv).show();
                  //me.adjustFontSize($('.presentMode > span', this.$.presentationWelcomeBg), $('.presentMode', this.$.presentationWelcomeBg));
              } else {
                  $(this).removeClass("last-carousel");
                  $('.hidable', this).show();
                  $(me.$.presentationWelcomeSliderLastDiv).hide();

                  if ($slide.hasClass("one")) {
                      me.Analytics.reportScreen('/presentation_mode/tour_1');
                      me.$.scrollingImage.src = me.images.spacebarAnimation;
                  } else if ($slide.hasClass("two")) {
                      me.Analytics.reportScreen('/presentation_mode/tour_2');
                      me.$.laserPointerImage.src = me.images.laserPointerAnimation;
                  } else if ($slide.hasClass("three")) {
                      me.Analytics.reportScreen('/presentation_mode/tour_3');
                      me.$.layoutImage.src = me.images.imageViewerAnimation;
                  } else if ($slide.hasClass("four")) {
                      me.Analytics.reportScreen('/presentation_mode/tour_4');
                      // me.$.layoutImage.src = me.images.imageViewerAnimation;
                  }
              }
          });

          this.$.presentationWelcomeBg.style.display = 'block';
          this.$.presentationTrialEndBg.style.display = 'none';
        }
      },
      imagesChanged: function () {
        this.$.laserPointerImage.src = this.images.laserPointerFeature;
        this.$.layoutImage.src = this.images.imageLayoutFeature;
        this.$.scrollingImage.src = this.images.whiteBox320x190;
        [].forEach.call(this.shadowRoot.querySelectorAll('.projectorScreen'), function (img) {
          img.src = this.images.projectorScreen;
        }.bind(this));
      },
      LocTextChanged: function () {
        this.illuminateText = this.LocText.t('Illuminate Important Ideas');
        this.pointerText = this.LocText.t('Focus attention where it should be with an on-screen laser pointer.');
        this.presentationModeText = this.LocText.t('PRESENTATION MODE');
        this.slidesText = this.LocText.t("Never format another slide deck. Evernote’s presentation features magically turn your notes into polished presentations.");
        this.viewImagesText = this.LocText.t('Add Images and Attachments');
        this.zoomText = this.LocText.t('Keep the conversation flowing. Zoom in on images to show more detail and open related documents or webpages right from your presentation.');
        this.welcomeText = this.LocText.t('Welcome to Presentation Mode');
        this.wrapupText = this.LocText.t('Present right out of Evernote. No slide decks mean faster, more collaborative meetings.');
        if (this.tier == 'premium') {
          this.startButtonText = this.LocText.t('Get Started');
          this.taglineText = this.LocText.t('Evernote Premium Feature');
        } else {
          this.goPremiumText = this.LocText.t('Go Premium');
          this.trialEndedLine1Text = this.LocText.t('Your preview has ended.');
          this.trialEndedLine2Text = this.LocText.t('Upgrade now to use this, and many other, Premium features.');
          this.startButtonText = this.LocText.t('Start Trial');
          this.taglineText = this.LocText.t('Try this Premium feature for 30 days.');
        }
      },
      tierChanged: function () {
        this.LocTextChanged();
      },
      adjustFontSize: function(adjustMe, container) { //container can be either a dom element (plain or jqery) or a number
          var fontSize = parseFloat(adjustMe.css('font-size'));
          var adjustments = 0;
          var maxadjustments = 100;

          if (typeof container === "object") {
              container = $(container).width();
          }

          while (adjustMe.width() > container && adjustments < maxadjustments) {
              fontSize -= 0.1;
              adjustMe.css('font-size', fontSize + "px");
              adjustments++;
              console.log('adjustments: ' + adjustments);
          }
      },
      applicable: function () {
        if (this.tier == 'premium') {
          return this.getFTUELocalStorage('presentationWelcomePremium') != 1;
        } else {
          return (this.expired || this.getFTUELocalStorage('presentationWelcomeFree') != 1);
        }
      },
      getFTUELocalStorage: function (key) {
          var storedObj = (window.localStorage['everoteMarkupFTUE']) ? JSON.parse(window.localStorage['everoteMarkupFTUE']) : {};
          storedObj[this.userID] = storedObj[this.userID] || {};
          return storedObj[this.userID][key] || {};
      },
      setFTUELocalStorage: function (key, val) {
          var storedObj = (window.localStorage['everoteMarkupFTUE']) ? JSON.parse(window.localStorage['everoteMarkupFTUE']) : {};
          storedObj[this.userID] = storedObj[this.userID] || {};
          storedObj[this.userID][key] = val;
          window.localStorage['everoteMarkupFTUE'] = JSON.stringify(storedObj);
      }
    });
  </script>
</polymer-element>

<polymer-element name="encp-hrconversion" constructor="EncpHrConversion" attributes="LocText visible" assetpath="elements/">
  <template>
    <style>
      :host {
        display: none;
        margin-bottom: 20px;
        cursor: pointer;
      }

      img {
        vertical-align: middle;
        margin-right: 10px;
        width: 35px;
        height: 35px;
      }

      span {
        font-size: .5rem;
        color: #ababab;
      }
    </style>
    <img src="images/conversion-wand.png"><span>{{text}}</span>
  </template>
  <script>
    Polymer('encp-hrconversion',{
      visible: false,
      text: '',
      LocText: {
        t: function (text) { return text; }
      },
      LocTextChanged: function () {
        this.text = this.LocText.t('Convert horizontal rules');
      },
      ready: function () {
        this.LocTextChanged();
      },
      visibleChanged: function () {
        this.style.display = this.visible ? 'block' : 'none';
      }
    });
  </script>
</polymer-element>

<polymer-element name="encp-imageviewer" constructor="EncpImageViewer" attributes="nightmode imageUrl" assetpath="elements/">
  <template>
    <style>
      :host {
        position: fixed;
        top: 0px;
        left: 0px;
        width: 100%;
        height: 100%;
        margin: 0px;
        padding: 0px;
        cursor: none;
        display: none;
        background-color: white;
        z-index: 999999;
      }

      img {
        position: fixed;
        margin: 0px;
        padding: 0px;
        top: 50px;
        left: 50px;
      }
    </style>
    <img id="image" src="" draggable="false">
  </template>
  <script>
    Polymer('encp-imageviewer',{
      index: null,
      visible: false,
      nightmode: false,
      images: [],
      zoom: 1,
      ready: function () {
        var me = this;
        document.body.addEventListener('keydown', function (evt) {
          if ((evt.keyCode == 27 || evt.keyCode == 32) && me.visible) { // 27 = ESC, 32 = SPACEBAR
            me.hide();
            evt.preventDefault();
            evt.stopPropagation();
          }
        });
        this.$.image.onload = this.zoomToFill.bind(this);
        this.$.image.addEventListener('click', function (evt) {
          me.hide();
          evt.preventDefault();
          evt.stopPropagation();
        });
      },
      nightmodeChanged: function () {
        this.style['background-color'] = this.nightmode ? 'black' : 'white';
      },
      clear: function () {
        this.index = null;
        this.images = [];
        this.$.image.src = '';
      },
      show: function () {
        if (this.visible) return;
        this.style.width = window.innerWidth;
        this.style.height = window.innerHeight;
        this.style.display = 'block';
        this.visible = true;
        this.fire('opened');
      },
      hide: function () {
        if (!this.visible) return;
        this.style.display = 'none';
        this.visible = false;
        this.fire('closed');
      },
      zoomIn: function () {
        this.zoom = this.zoom * 1.5;
      },
      zoomOut: function () {
        this.zoom = this.zoom / 1.5;
      },
      zoomToActualSize: function () {
        this.zoom = 1;
      },
      calcZoomToFill: function () {
        return Math.min(window.innerWidth / this.$.image.naturalWidth, window.innerHeight / this.$.image.naturalHeight);
      },
      zoomToFill: function () {
        this.zoom = this.calcZoomToFill();
      },
      zoomChanged: function () {
        var zoom = Math.min(Math.max(3, this.calcZoomToFill()), Math.max(.05, this.zoom));
        var newWidth = this.$.image.naturalWidth * zoom;
        var newHeight = this.$.image.naturalHeight * zoom;
        if (this.zoom != zoom) {
          this.zoom = zoom;
          return;
        }
        this.$.image.width = newWidth;
        this.$.image.height = newHeight;
        this.$.image.style.left = (window.innerWidth - newWidth) / 2 + 'px';
        this.$.image.style.top = 0 + (window.innerHeight - newHeight) / 2 + 'px';
      },
      indexChanged: function () {
        if (this.index < 0 || this.index > this.images.length) {
          console.log('Image viewer does not have an image with an index of ' + this.index);
          return;
        }
        this.$.image.src = this.images[this.index].src;
      },
      next: function () {
        if (!this.visible || this.images.length < 2) return;
        this.index = Math.min(this.index + 1, this.images.length - 1);
      },
      prev: function () {
        if (!this.visible || this.images.length < 2) return;
        this.index = Math.max(0, this.index - 1);
      },
      onCursorChanged: function (type) {
        if (type == 'default') {
          this.style.cursor = 'default';
        } else {
          this.style.cursor = 'none';
        }
      }
    });
  </script>
</polymer-element>

<polymer-element name="encp-panelhandle" constructor="EncpPanelHandle" attributes="fadeDuration available nightmode" assetpath="elements/">
  <template>
    <style>
      :host {
        position: fixed; 
        top: 50%; 
        right: 0px;
        margin-top: -40px; 
        width: 40px;
        height: 80px;
      }
      /* image is 40x80 */
      #handle {
        position: absolute;
        top: 50%;
        right: 0px;
        width: 40px;
        height: 80px;
        float: none;
        border-right-width: 0px;
        opacity: 0;
        margin: -40px 0px 0px 0px;
      }
    </style>
    <encp-hudbutton id="handle" cmd="handleclick" source="images/panel_closed.png" on-handleclick="{{onHandleClick}}"></encp-hudbutton>
  </template>
  <script>
  	Polymer('encp-panelhandle',{
      available: false,
      visible: false,
      nightmode: false,
  		expanded: false,
      fadeDuration: 500,
      fadeinAnimation: null,
      fadeoutAnimation: null,
      hideRequestId: null,
      ready: function () {
        this.fadeOutAnimation = new CoreAnimation();
        this.fadeOutAnimation.duration = this.fadeDuration;
        this.fadeOutAnimation.keyframes = [
          {opacity: 1},
          {opacity: 0}
        ];
        this.fadeOutAnimation.fill = 'forwards';
        this.fadeOutAnimation.target = this.$.handle;

        this.fadeInAnimation = new CoreAnimation();
        this.fadeInAnimation.duration = this.fadeDuration;
        this.fadeInAnimation.keyframes = [
          {opacity: 0},
          {opacity: 1}
        ];
        this.fadeInAnimation.fill = 'forwards';
        this.fadeInAnimation.target = this.$.handle;
      },
      availableChanged: function () {
        this.style.display = this.available ? 'block' : 'none';
      },
      nightmodeChanged: function () {
        this.$.handle.nightmode = this.nightmode;
      },
  		onHandleClick: function () {
        this.toggle();
  		},
      toggle: function () {
        this.fire('togglepanel', {expand: !this.expanded});
        this.expanded = !this.expanded;
        this.$.handle.source = 'images/panel_' + (this.expanded ? 'open' : 'closed') + '.png';
        this.$.handle.style['background-color'] = this.expanded ? '#2e2e2e' : '#646464';
      },
      fadeIn: function () {
        if (!this.available || this.visible) return;
        this.fadeInAnimation.play();
        this.visible = true;
      },
      fadeOut: function () {
        this.fadeOutAnimation.play();
        this.visible = false;
      },
      show: function (duration) {
        var me = this;
        if (!this.available || this.expanded) return;
        if (this.hideRequestId) this.hideRequestId = clearTimeout(this.hideRequestId);
        this.fadeIn();
        if (this.fadeTimer) window.clearTimeout(this.fadeTimer);
        if (duration) {
            this.fadeTimer = window.setTimeout(function () {
                me.fadeOut();
            }, duration);
        }
      },
      hide: function (delay) {
        if (delay) {
          if (this.hideRequestId) this.hideRequestId = clearTimeout(this.hideRequestId);
          this.hideRequestId = setTimeout(this.hide.bind(this), delay);
          return;
        }
        if (!this.available || this.expanded || !this.visible) return;
        this.fadeOut();
      },
  	});
  </script>
</polymer-element>

<polymer-element name="encp-cursorbar" attributes="LocText nightmode" on-mouseout="onDisengage" assetpath="elements/">
  <template>
    <style>
      :host {
        width: 42px;
        height: 168px;
        margin-top: 6px;
        padding-left: 0px;
        padding-right: 0px;
        padding-bottom: 0px;
        z-index: 999999;
        display: none;
      }
    </style>
    <encp-hudbutton id="blue" cmd="cursorstyleselected" cmddata="blue" source="images/cursor_blue_icon.png"></encp-hudbutton>
    <encp-hudbutton id="yellow" cmd="cursorstyleselected" cmddata="yellow" source="images/cursor_yellow_icon.png"></encp-hudbutton>
    <encp-hudbutton id="red" cmd="cursorstyleselected" cmddata="red" source="images/cursor_red_icon.png"></encp-hudbutton>
    <encp-hudbutton id="arrow" cmd="cursorstyleselected" cmddata="default" source="images/cursor_default_icon.png"></encp-hudbutton>
  </template>
  <script>
  	Polymer('encp-cursorbar',{
      visible: false,
      nightmode: false,
      LocText: {
        t: function (text) { 
          return text;
        }
      },
      ready: function () {
        this.LocTextChanged();
      },
      LocTextChanged: function () {
        this.$.blue.description = this.LocText.t('Blue Laser Pointer');
        this.$.blue.shortcut = this.LocText.t('Ctrl+1');
        this.$.yellow.description = this.LocText.t('Yellow Laser Pointer');
        this.$.yellow.shortcut = this.LocText.t('Ctrl+2');
        this.$.red.description = this.LocText.t('Red Laser Pointer');
        this.$.red.shortcut = this.LocText.t('Ctrl+3');
        this.$.arrow.description = this.LocText.t('Arrow Cursor');
        this.$.arrow.shortcut = this.LocText.t('Ctrl+4');
      },
      nightmodeChanged: function () {
        this.$.blue.nightmode = this.nightmode;
        this.$.yellow.nightmode = this.nightmode;
        this.$.red.nightmode = this.nightmode;
        this.$.arrow.nightmode = this.nightmode;
      },
      onDisengage: function () {
        this.hide();
      },
      show: function () {
        this.style.display = 'block';
        this.visible = true;
      },
      hide: function () {
        this.style.display = 'none';
        this.visible = false;
      },
      isVisible: function () {
        return this.visible;
      }
  	});
  </script>
</polymer-element>
<polymer-element name="encp-toolbar" constructor="EncpToolbar" attributes="fadeDuration LocText available nightmode nightmodeTooltip" on-changecursor="onChangeCursor" assetpath="elements/">
  <template>
    <style>
      :host {
        position: fixed;
        top: 0;
        right: 0;
        width: 592px;
        height: 42px;
        margin-top: 20px;
        margin-right: 15px;
        display: none;
        opacity: 0;
        z-index: 999999;
      }

      #hudtip {
        display: block;
        float: right;
      }

      #cursorbar {
        position: fixed;
        top: 62px;
        right: 63px;
      }
    </style>
    <encp-hudbutton id="exit" cmd="exit" source="images/exit_icon.png" on-showtip="{{onShowTip}}" on-hidetip="{{onHideTip}}"></encp-hudbutton>
    <encp-hudbutton id="cursortype" cmd="togglecursoroptions" source="images/cursor_blue_icon.png" bgsource="images/cursor_disclosure_arrow_icon.png" on-showtip="{{onShowTip}}" on-hidetip="{{onHideTip}}"></encp-hudbutton>
    <encp-hudbutton id="display" cmd="changedisplay" source="images/monitor_icon.svg" on-showtip="{{onShowTip}}" on-hidetip="{{onHideTip}}"></encp-hudbutton>
    <encp-hudbutton id="theme" cmd="toggletheme" source="images/nightmode_icon.png" on-showtip="{{onShowTip}}" on-hidetip="{{onHideTip}}"></encp-hudbutton>
    <encp-hudtip id="hudtip"></encp-hudtip>
    <encp-cursorbar id="cursorbar" on-showtip="{{onShowTip}}" on-hidetip="{{onHideTip}}"></encp-cursorbar>
  </template>
  <script>
  	Polymer('encp-toolbar',{
      fadeDuration: 500,
      fadeinAnimation: null,
      fadeoutAnimation: null,
      fadeTimer: null,
      available: false,
      visible: false,
      nightmode: false,
      description: '',
      shortcut: '',
      themesEnabled: true,
      LocText: {
        t: function (text) { 
          return text;
        }
      },
      ready: function () {
        this.fadeOutAnimation = new CoreAnimation();
        this.fadeOutAnimation.duration = this.fadeDuration;
        this.fadeOutAnimation.keyframes = [
          {opacity: 1},
          {opacity: 0}
        ];
        this.fadeOutAnimation.fill = 'forwards';
        this.fadeOutAnimation.target = this;

        this.fadeInAnimation = new CoreAnimation();
        this.fadeInAnimation.duration = this.fadeDuration;
        this.fadeInAnimation.keyframes = [
          {opacity: 0},
          {opacity: 1}
        ];
        this.fadeInAnimation.fill = 'forwards';
        this.fadeInAnimation.target = this;

        this.$.cursortype.addEventListener('togglecursoroptions', this.toggleCursorOptions.bind(this));
        this.LocTextChanged();
      },
      LocTextChanged: function () {
        this.$.theme.description = this.nightmode ? this.LocText.t('Deactivate Nightmode') : this.LocText.t('Activate Nightmode');

        this.$.theme.shortcut = this.LocText.t('Ctrl+N');
        this.$.display.description = this.LocText.t('Change Screen');
        this.$.display.shortcut = this.LocText.t('Ctrl+M');
        this.$.cursortype.description = this.LocText.t('Cursor Types');
        this.$.cursortype.shortcut = this.LocText.t('Ctrl+P');
        this.$.exit.description = this.LocText.t('Exit');
        this.$.exit.shortcut = this.LocText.t('ESC');
        this.$.cursorbar.LocText = this.LocText;
      },
      availableChanged: function () {
        this.style.display = this.available ? 'block' : 'none';
      },
      themesEnabledChanged: function () {
        this.$.theme.available = this.themesEnabled;
      },
      nightmodeChanged: function () {
        this.$.theme.source = this.nightmode ? 'images/nightmode_exit_icon.png' : 'images/nightmode_icon.png';
        this.$.theme.description = this.nightmode ? this.LocText.t('Deactivate Nightmode') : this.LocText.t('Activate Nightmode');

        this.$.theme.nightmode = this.nightmode;
        this.$.display.nightmode = this.nightmode;
        this.$.cursortype.nightmode = this.nightmode;
        this.$.exit.nightmode = this.nightmode;
        this.$.cursorbar.nightmode = this.nightmode;
        this.$.hudtip.nightmode = this.nightmode;

        this.onShowTip({
          detail: {
            description: this.$.theme.description,
            shortcut: this.$.theme.shortcut
          }
        });
      },
      onEngage: function () {
        this.fire('engage');
      },
      onDisengage: function () {
        this.fire('disengage');
      },
      onShowTip: function (evt) {
        return this.$.hudtip.onShowTip(evt);
      },
      onHideTip: function () {
        return this.$.hudtip.onHideTip();
      },
      fadeIn: function () {
        if (!this.available || this.visible) return;
        this.fadeInAnimation.play();
        this.visible = true;
      },
      fadeOut: function () {
        this.fadeOutAnimation.play();
        this.visible = false;
      },
      show: function (duration) {
        var me = this;
        if (!this.available) return;
        this.fadeIn();
        if (this.fadeTimer) window.clearTimeout(this.fadeTimer);
        if (duration) {
            this.fadeTimer = window.setTimeout(function () {
                me.fadeOut();
            }, duration);
        }
      },
      hide: function () {
        this.fadeOut();
      },
      onChangeCursor: function () {
        this.$.cursorbar.hide();
      },
      toggleCursorOptions: function () {
        if (this.$.cursorbar.isVisible()) {
          this.$.cursorbar.hide();
        } else {
          this.$.cursorbar.show();
        }
      },
      setDisplayAvailability: function (available) {
        this.$.display.available = (available == true);
      },
      updateCursor: function (color) {
        this.$.cursortype.source = 'images/cursor_' + color + '_icon.png';
      }
  	});
  </script>
</polymer-element>

<polymer-element name="encp-sensor" constructor="EncpSensor" assetpath="elements/">
  <template>
    <style>
      #top {
        position: fixed; 
        top: 0px; 
        left: 0px;
        width: 100%;
        height: 125px;
        z-index: 999999;
      }
      #left {
        position: fixed; 
        top: 125px; 
        left: 0px;
        right: 250px;
        height: 100%;
        display: none;
        z-index: 999999;
      }
      #right {
        position: fixed;
        top: 125px;
        right: 0px;
        width: 250px;
        height: 100%;
        z-index: 999999;
      }
    </style>
    <div id="top" on-mouseover="{{onEngageRight}}"></div>
    <div id="left" on-mouseover="{{onEngageLeft}}"></div>
    <div id="right" on-mouseover="{{onEngageRight}}"></div>
  </template>
  <script>
  	Polymer('encp-sensor',{
      onEngageLeft: function () {
        this.$.left.style.display = 'none';
        this.$.right.style.display = 'block';
        this.$.top.style.display = 'block';
        this.fire('engageleft');
      },
      onEngageRight: function () {
        this.$.left.style.display = 'block';
        this.$.right.style.display = 'none';
        this.$.top.style.display = 'none';
        this.fire('engageright');
      }
  	});
  </script>
</polymer-element>

<polymer-element name="encp-spinner" constructor="EncpSpinner" attributes="available nightmode" assetpath="elements/">
  <template>
    <style>
      :host {
        position: fixed;
        top: 50%;
        left: 50%;
        margin-top: -150px;
        margin-left: -200px;
        cursor: none;
        width: 400px;
        height: 300px;
        display: block;
        z-index: 999999;
        text-align: center;
      }

      :host-context(.lang-zh-cn)  {
          font-family: "微软雅黑", 'Microsoft YaHei', SimSun,      "&#x30E1;&#x30A4;&#x30EA;&#x30AA;", Meiryo, "MS PGothic",       "Gotham Light", "Helvetica Neue", Arial;
      }

      :host-context(.lang-ja-jp)  {
          font-family: "&#x30E1;&#x30A4;&#x30EA;&#x30AA;", Meiryo, "MS PGothic",       "微软雅黑", 'Microsoft YaHei', SimSun,      "Gotham Light", "Helvetica Neue", Arial;
      }

      #text {
        top: 50px;
      }
    </style>
    <img id="x-animation" src="images/progress.gif">
    <br>
    <span id="text">{{text}}</span>
  </template>
  <script>
    Polymer('encp-spinner',{
      available: true,
      visible: true,
      nightmode: false,
      description: '',
      noteTitle: '',
      text: 'Loading',
      fadeDuration: 500,
      fadeinAnimation: null,
      fadeoutAnimation: null,
      fadeTimer: null,
      LocText: {
        t: function (text) { 
          return text;
        }
      },
      ready: function () {
        this.fadeOutAnimation = new CoreAnimation();
        this.fadeOutAnimation.duration = this.fadeDuration;
        this.fadeOutAnimation.keyframes = [
          {opacity: 1},
          {opacity: 0}
        ];
        this.fadeOutAnimation.fill = 'forwards';
        this.fadeOutAnimation.target = this;

        this.fadeInAnimation = new CoreAnimation();
        this.fadeInAnimation.duration = this.fadeDuration;
        this.fadeInAnimation.keyframes = [
          {opacity: 0},
          {opacity: 1}
        ];
        this.fadeInAnimation.fill = 'forwards';
        this.fadeInAnimation.target = this;

        this.LocTextChanged();
      },
      LocTextChanged: function () {
        this.text = this.LocText.t('Loading ') + this.noteTitle;
      },
      availableChanged: function () {
        this.style.display = this.available ? 'block' : 'none';
      },
      nightmodeChanged: function () {
        //this.style['border-color'] = this.nightmode ? '#333333' : '#58595b';
      },
      noteTitleChanged: function () {
        this.LocTextChanged();
      },
      fadeIn: function () {
        if (!this.available || this.visible) return;
        this.fadeInAnimation.play();
        this.visible = true;
        this.style.display = 'block';
      },
      fadeOut: function () {
        this.fadeOutAnimation.play();
        this.visible = false;
        this.style.display = 'none';
      },
      show: function () {
        this.fadeIn();
      },
      hide: function () {
        this.fadeOut();
      }
    });
  </script>
</polymer-element>
</div>
    <script src="require.js"></script>
    <script src="present.min.js"></script>

</body></html>